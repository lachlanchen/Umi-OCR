[English](../README.md) ¬∑ [ÿßŸÑÿπÿ±ÿ®Ÿäÿ©](README.ar.md) ¬∑ [Espa√±ol](README.es.md) ¬∑ [Fran√ßais](README.fr.md) ¬∑ [Êó•Êú¨Ë™û](README.ja.md) ¬∑ [ÌïúÍµ≠Ïñ¥](README.ko.md) ¬∑ [Ti·∫øng Vi·ªát](README.vi.md) ¬∑ [‰∏≠Êñá (ÁÆÄ‰Ωì)](README.zh-Hans.md) ¬∑ [‰∏≠ÊñáÔºàÁπÅÈ´îÔºâ](README.zh-Hant.md) ¬∑ [Deutsch](README.de.md) ¬∑ [–†—É—Å—Å–∫–∏–π](README.ru.md)


[![LazyingArt banner](https://github.com/lachlanchen/lachlanchen/raw/main/figs/banner.png)](https://github.com/lachlanchen/lachlanchen/blob/main/figs/banner.png)


<p align="center">
  <a href="https://github.com/hiroi-sora/Umi-OCR">
    <img width="200" height="128" src="https://tupian.li/images/2022/10/27/icon---256.png" alt="Umi-OCR">
  </a>
</p>

<h1 align="center">Umi-OCR</h1>

<p align="center">
  <a href="https://github.com/hiroi-sora/Umi-OCR/releases/latest">
    <img src="https://img.shields.io/github/v/release/hiroi-sora/Umi-OCR?style=flat-square" alt="Umi-OCR">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/blob/main/LICENSE">
    <img src="https://img.shields.io/github/license/hiroi-sora/Umi-OCR?style=flat-square" alt="LICENSE">
  </a>
  <a href="#tai-ban-phat-hanh">
    <img src="https://img.shields.io/github/downloads/hiroi-sora/Umi-OCR/total?style=flat-square" alt="downloads">
  </a>
  <a href="https://star-history.com/#hiroi-sora/Umi-OCR">
    <img src="https://img.shields.io/github/stars/hiroi-sora/Umi-OCR?style=flat-square" alt="stars">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/forks">
    <img src="https://img.shields.io/github/forks/hiroi-sora/Umi-OCR?style=flat-square" alt="forks">
  </a>
  <a href="https://hosted.weblate.org/engage/umi-ocr/">
    <img src="https://hosted.weblate.org/widget/umi-ocr/svg-badge.svg" alt="translation status">
  </a>
  <img src="https://img.shields.io/badge/Platform-Windows%207%2B%20%7C%20Linux%20x64-2ea44f?style=flat-square" alt="platform">
  <img src="https://img.shields.io/badge/OCR-Offline-1f6feb?style=flat-square" alt="offline OCR">
  <img src="https://img.shields.io/badge/Interface-GUI%20%7C%20CLI%20%7C%20HTTP-f97316?style=flat-square" alt="interfaces">
  <img src="https://img.shields.io/github/last-commit/hiroi-sora/Umi-OCR?style=flat-square" alt="last commit">
  <img src="https://img.shields.io/github/commit-activity/m/hiroi-sora/Umi-OCR?style=flat-square" alt="monthly commits">
</p>

<div align="center">
  <h3>
    <a href="#muc-luc">C√°ch d√πng</a>
    <span> ‚Ä¢ </span>
    <a href="#tai-ban-phat-hanh">T·∫£i b·∫£n ph√°t h√†nh</a>
    <span> ‚Ä¢ </span>
    <a href="CHANGE_LOG.md">Nh·∫≠t k√Ω thay ƒë·ªïi</a>
    <span> ‚Ä¢ </span>
    <a href="https://github.com/hiroi-sora/Umi-OCR/issues">B√°o l·ªói</a>
  </h3>
</div>

<div align="center">
  <strong>Ph·∫ßn m·ªÅm OCR offline, m√£ ngu·ªìn m·ªü, mi·ªÖn ph√≠, h·ªó tr·ª£ x·ª≠ l√Ω h√†ng lo·∫°t</strong><br>
  <sub>T∆∞∆°ng th√≠ch v·ªõi Windows 7 x64 v√† Linux x64</sub>
</div>

### üöÄ V√†i n√©t nhanh

| T·∫≠p trung | Chi ti·∫øt |
| --- | --- |
| üì¶ Ph√¢n ph·ªëi | ·ª®ng d·ª•ng desktop ti·ªán d·ª•ng (`.7z` v√† `.7z.exe`) |
| üß† Ch·∫ø ƒë·ªô c·ªët l√µi | OCR h√†ng lo·∫°t offline cho ch·ª•p m√†n h√¨nh, t√†i li·ªáu v√† lu·ªìng QR |
| üß© Giao di·ªán | GUI, CLI v√† HTTP API |
| üåê B·∫£n ƒë·ªãa h√≥a | C·ªông ƒë·ªìng d·ªãch thu·∫≠t qua Weblate |

---

## T·ªïng quan

Umi-OCR l√† c√¥ng c·ª• OCR d√†nh cho desktop, ∆∞u ti√™n x·ª≠ l√Ω ngo·∫°i tuy·∫øn, quy tr√¨nh h√†ng lo·∫°t hi·ªáu nƒÉng cao v√† t√≠ch h·ª£p th·ª±c t·∫ø.

- **Mi·ªÖn ph√≠**: T·∫•t c·∫£ m√£ ngu·ªìn ƒë·ªÅu m·ªü v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng mi·ªÖn ph√≠.
- **Ti·ªán l·ª£i**: Gi·∫£i n√©n v√† ch·∫°y n·ªôi b·ªô, l√µi OCR kh√¥ng ph·ª• thu·ªôc m·∫°ng.
- **Hi·ªáu qu·∫£**: T√≠ch h·ª£p s·∫µn c√°c engine OCR offline h·ªó tr·ª£ nhi·ªÅu ng√¥n ng·ªØ.
- **Linh ho·∫°t**: H·ªó tr·ª£ giao di·ªán GUI, ƒëi·ªÅu khi·ªÉn d√≤ng l·ªánh v√† API HTTP.
- **ƒê·∫ßy ƒë·ªß t√≠nh nƒÉng**: OCR m√†n h√¨nh, OCR h√†ng lo·∫°t, OCR t√†i li·ªáu, ƒë·ªçc/t·∫°o m√£ QR, ƒëi·ªÉm v√†o nh·∫≠n d·∫°ng c√¥ng th·ª©c.

| ‚úÖ Th√¥ng tin nhanh | Chi ti·∫øt |
| --- | --- |
| üß© Gi·∫•y ph√©p | MIT |
| üåê Y√™u c·∫ßu m·∫°ng | Kh√¥ng c·∫ßn m·∫°ng cho c√°c lu·ªìng OCR c·ªët l√µi |
| üíª N·ªÅn t·∫£ng | Windows 7 x64+ / Linux x64 |
| üõ† Ch·∫ø ƒë·ªô s·ª≠ d·ª•ng | GUI, CLI, HTTP API |
| üåç D·ªãch thu·∫≠t | B·∫£n ƒë·ªãa h√≥a c·ªông ƒë·ªìng qua Weblate |

### T·ªëi ∆∞u cho quy tr√¨nh th·ª±c t·∫ø

| Lu·ªìng c√¥ng vi·ªác | Kh·∫£ nƒÉng c·ªët l√µi |
| --- | --- |
| X·ª≠ l√Ω ·∫£nh ch·ª•p m√†n h√¨nh | C·∫Øt, ch·ªçn v√πng v√† ch√©p ch·ªØ tr·ª±c ti·∫øp t·ª´ ·∫£nh ch·ª•p tr·ª±c ti·∫øp |
| X·ª≠ l√Ω h√†ng lo·∫°t | X·ª≠ l√Ω th∆∞ m·ª•c, ch·ªânh h·∫≠u x·ª≠ l√Ω v√† xu·∫•t vƒÉn b·∫£n c√≥ c·∫•u tr√∫c |
| OCR t√†i li·ªáu | OCR t√†i li·ªáu qu√©t v√† t·∫°o PDF nhi·ªÅu l·ªõp c√≥ th·ªÉ t√¨m ki·∫øm |
| C√°c thao t√°c QR | Gi·∫£i m√£ nhi·ªÅu m√£ v√† t·∫°o QR/m√£ v·∫°ch theo nhu c·∫ßu |

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599097ab5f4.png" alt="Umi-OCR preview 1" style="width: 80%;"></p>

![Umi-OCR preview 2](https://tupian.li/images/2023/11/19/6559909fdeeba.png)

## M·ª•c l·ª•c

- [T√≠nh nƒÉng](#tinh-nang)
- [C·∫•u tr√∫c d·ª± √°n](#cau-truc-du-an)
- [Y√™u c·∫ßu h·ªá th·ªëng](#yeu-cau-he-thong)
- [C√†i ƒë·∫∑t](#cai-dat)
- [T·∫£i b·∫£n ph√°t h√†nh](#tai-ban-phat-hanh)
- [C√°ch d√πng](#cach-dung)
- [C·∫•u h√¨nh](#cau-hinh)
- [V√≠ d·ª•](#vi-du)
- [Tham chi·∫øu API](#tham-chieu-api)
- [Ghi ch√∫ ph√°t tri·ªÉn](#ghi-chu-phat-trien)
- [Kh·∫Øc ph·ª•c s·ª± c·ªë](#khac-phuc-su-co)
- [B·∫£n ƒë·ªãa h√≥a](#ban-dia-hoa)
- [L·ªô tr√¨nh](#lo-trinh)
- [ƒê√≥ng g√≥p](#dong-gop)
- [H·ªó tr·ª£](#support)
- [Gi·∫•y ph√©p](#giay-phep)

## T√≠nh nƒÉng

### OCR ·∫£nh ch·ª•p m√†n h√¨nh

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599097aba8e.png" alt="Screenshot OCR" style="width: 80%;"></p>

- K√≠ch ho·∫°t OCR b·∫±ng ph√≠m t·∫Øt ch·ª•p m√†n h√¨nh sau khi m·ªü tab OCR ·∫£nh ch·ª•p m√†n h√¨nh.
- Khung tr√°i cho ph√©p ch·ªçn vƒÉn b·∫£n tr·ª±c ti·∫øp trong b·∫£n xem tr∆∞·ªõc ·∫£nh.
- Khung ph·∫£i cho ph√©p ch·ªânh s·ª≠a l·ªãch s·ª≠ nh·∫≠n d·∫°ng v√† sao ch√©p nhi·ªÅu b·∫£n ghi.
- H·ªó tr·ª£ d√°n ·∫£nh t·ª´ b·ªô nh·ªõ t·∫°m.
- Tham kh·∫£o nh·∫≠n d·∫°ng c√¥ng th·ª©c: [Issue #254](https://github.com/hiroi-sora/Umi-OCR/issues/254)

#### H·∫≠u x·ª≠ l√Ω vƒÉn b·∫£n (ph√¢n t√≠ch b·ªë c·ª•c)

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559909f3e378.png" alt="Text post-processing" style="width: 80%;"></p>

C√°c s∆° ƒë·ªì t√≠ch h·ª£p s·∫µn ƒë·ªÉ s·∫Øp x·∫øp l·∫°i kh·ªëi OCR v√† tƒÉng kh·∫£ nƒÉng ƒë·ªçc:

- `Multi-column - natural paragraphs`
- `Multi-column - always line break`
- `Multi-column - no line break`
- `Single-column - natural paragraphs`
- `Single-column - always line break`
- `Single-column - no line break`
- `Single-column - preserve indentation` (h·ªØu √≠ch cho ƒëo·∫°n m√£)
- `No post-processing` (ƒë·∫ßu ra OCR th√¥)

Nh·ªØng s∆° ƒë·ªì n√†y x·ª≠ l√Ω ƒë∆∞·ª£c b·ªë c·ª•c ngang v√† d·ªçc (ph·∫£i sang tr√°i) n·∫øu m√¥ h√¨nh engine OCR ƒë√£ ch·ªçn h·ªó tr·ª£.

### OCR h√†ng lo·∫°t

<p align="center"><img src="https://tupian.li/images/2023/11/19/655990a2511e0.png" alt="Batch OCR" style="width: 80%;"></p>

- ƒê·ªãnh d·∫°ng ƒë·∫ßu v√†o: `jpg, jpe, jpeg, jfif, png, webp, bmp, tif, tiff`
- ƒê·ªãnh d·∫°ng ƒë·∫ßu ra: `txt, jsonl, md, csv(Excel)`
- H·ªó tr·ª£ quy t·∫Øc h·∫≠u x·ª≠ l√Ω vƒÉn b·∫£n t·ª´ OCR ·∫£nh ch·ª•p m√†n h√¨nh.
- Kh√¥ng c√≥ gi·ªõi h·∫°n th·ª±c t·∫ø v·ªÅ s·ªë l∆∞·ª£ng t√°c v·ª• ·ªü giao di·ªán (h√†ng trƒÉm ·∫£nh m·ªói l·∫ßn ch·∫°y ƒë·ªÅu ƒë∆∞·ª£c h·ªó tr·ª£).
- H·ªó tr·ª£ t·ª± ƒë·ªông t·∫Øt m√°y/ng·ªß sau khi ho√†n th√†nh t√°c v·ª•.
- V·ªõi ·∫£nh si√™u l·ªõn, ch·ªânh `OCR settings -> image side limit`.

#### V√πng b·ªè qua

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559911d28be7.png" alt="Ignore region editor" style="width: 80%;"></p>

- Lo·∫°i tr·ª´ watermark/logo tƒ©nh khi OCR h√†ng lo·∫°t.
- V·∫Ω nhi·ªÅu h√¨nh ch·ªØ nh·∫≠t b·∫±ng chu·ªôt ph·∫£i trong tr√¨nh ch·ªânh s·ª≠a V√πng b·ªè qua.
- N√™n v·∫Ω h√¨nh ch·ªØ nh·∫≠t l·ªõn h∆°n v√πng watermark m·ª•c ti√™u ƒë·ªÉ tƒÉng ƒë·ªô b·ªÅn.
- C∆° ch·∫ø b·ªè qua theo t·ª´ng kh·ªëi (m·ªçi kh·ªëi vƒÉn b·∫£n n·∫±m trong v√πng s·∫Ω b·ªã b·ªè qua).

<p align="center"><img src="https://tupian.li/images/2024/05/30/66587bf03ae15.png" alt="Ignore region scope example" style="width: 80%;"></p>

### OCR t√†i li·ªáu

<p align="center"><img src="https://github.com/hiroi-sora/Umi-OCR/assets/56373419/fc2266ee-b9b7-4079-8b10-6610e6da6cf5" alt="Document OCR" style="width: 80%;"></p>

- ƒê·ªãnh d·∫°ng ƒë·∫ßu v√†o: `pdf, xps, epub, mobi, fb2, cbz`
- Tr√≠ch xu·∫•t vƒÉn b·∫£n nh√∫ng khi c√≥ s·∫µn ho·∫∑c OCR c√°c trang scan.
- Xu·∫•t PDF c√≥ l·ªõp vƒÉn b·∫£n ƒë·ªÉ t√¨m ki·∫øm.
- H·ªó tr·ª£ v√πng b·ªè qua (v√≠ d·ª• header/footer).
- H·ªó tr·ª£ t·ª± ƒë·ªông t·∫Øt m√°y/ng·ªß sau khi ho√†n th√†nh.

### M√£ QR

<p align="center"><img src="https://tupian.li/images/2023/11/19/655991268d6b1.png" alt="QR code" style="width: 80%;"></p>

Ch·∫ø ƒë·ªô ƒë·ªçc:

- Ch·ª•p m√†n h√¨nh, d√°n, ho·∫∑c k√©o th·∫£ ·∫£nh c·ª•c b·ªô ƒë·ªÉ gi·∫£i m√£.
- H·ªó tr·ª£ nhi·ªÅu m√£ trong m·ªôt ·∫£nh.
- H·ªó tr·ª£ 19 ƒë·ªãnh d·∫°ng:

`Aztec`,`Codabar`,`Code128`,`Code39`,`Code93`,`DataBar`,`DataBarExpanded`,`DataMatrix`,`EAN13`,`EAN8`,`ITF`,`LinearCodes`,`MatrixCodes`,`MaxiCode`,`MicroQRCode`,`PDF417`,`QRCode`,`UPCA`,`UPCE`

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559911cda737.png" alt="QR code generate" style="width: 80%;"></p>

Ch·∫ø ƒë·ªô t·∫°o:

- T·∫°o ·∫£nh QR/m√£ v·∫°ch t·ª´ vƒÉn b·∫£n.
- H·ªó tr·ª£ ch·ªçn ƒë·ªãnh d·∫°ng v√† thi·∫øt l·∫≠p m·ª©c s·ª≠a l·ªói.

### C√†i ƒë·∫∑t to√†n c·ª•c

<p align="center"><img src="https://tupian.li/images/2023/11/19/655991252e780.png" alt="Global settings" style="width: 80%;"></p>

- Th√™m ph√≠m t·∫Øt v√† c·∫•u h√¨nh h√†nh vi kh·ªüi ƒë·ªông.
- Chuy·ªÉn ng√¥n ng·ªØ giao di·ªán.
- Chuy·ªÉn theme (phi√™n b·∫£n s√°ng/t·ªëi).
- C·∫•u h√¨nh ph√¥ng ch·ªØ v√† t·ªâ l·ªá giao di·ªán.
- ƒê·ªïi plugin OCR.
- Thay renderer (`Interface and Appearance -> Renderer`) khi tƒÉng t·ªëc GPU g√¢y nh·∫•p nh√°y ho·∫∑c l·ªách giao di·ªán.

## C·∫•u tr√∫c d·ª± √°n

### M·ªëi li√™n h·ªá repository

- [Main repository](https://github.com/hiroi-sora/Umi-OCR)
- [Plugin repository](https://github.com/hiroi-sora/Umi-OCR_plugins)
- [Windows runtime repository](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Linux runtime repository](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

### B·ªë c·ª•c runtime (b·ªë c·ª•c canonical upstream)

`**` nghƒ©a l√† n·ªôi dung c√≥ trong repository ch√≠nh n√†y.

```text
Umi-OCR
‚îú‚îÄ Umi-OCR.exe
‚îú‚îÄ umi-ocr.sh
‚îî‚îÄ UmiOCR-data
   ‚îú‚îÄ main.py **
   ‚îú‚îÄ version.py **
   ‚îú‚îÄ qt_res **
   ‚îÇ  ‚îî‚îÄ Qt resources, including icons and QML source
   ‚îú‚îÄ py_src **
   ‚îÇ  ‚îî‚îÄ Python source
   ‚îú‚îÄ plugins
   ‚îÇ  ‚îî‚îÄ OCR plugins
   ‚îî‚îÄ i18n **
      ‚îî‚îÄ translation files
```

### C√¢y m√£ ngu·ªìn trong snapshot repository n√†y

```text
.
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ README_en.md
‚îú‚îÄ‚îÄ README_ja.md
‚îú‚îÄ‚îÄ CHANGE_LOG.md
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ README_CLI.md
‚îÇ   ‚îî‚îÄ‚îÄ http/
‚îú‚îÄ‚îÄ UmiOCR-data/
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ py_src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ run.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mission/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ocr/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tag_pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ plugins_controller/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ image_controller/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ qt_res/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qml/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ i18n/
‚îú‚îÄ‚îÄ dev-tools/
‚îÇ   ‚îî‚îÄ‚îÄ i18n/
‚îî‚îÄ‚îÄ i18n/
```

## Y√™u c·∫ßu h·ªá th·ªëng

### Ng∆∞·ªùi d√πng cu·ªëi

| M·ª•c | Y√™u c·∫ßu |
| --- | --- |
| H·ªá ƒëi·ªÅu h√†nh | Windows 7 x64+ ho·∫∑c Linux x64 |
| CPU (khuy·∫øn ngh·ªã) | CPU x64 c√≥ h·ªó tr·ª£ AVX (v·ªõi plugin d·ª±a tr√™n PaddleOCR) |
| Runtime (khuy·∫øn ngh·ªã tr√™n Windows) | Visual C++ runtime ƒë·ªÉ t∆∞∆°ng th√≠ch |

### Nh√† ph√°t tri·ªÉn

- ƒê·ªçc v√† l√†m theo h∆∞·ªõng d·∫´n thi·∫øt l·∫≠p runtime theo n·ªÅn t·∫£ng t·∫°i:
  - [Umi-OCR_runtime_windows](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
  - [Umi-OCR_runtime_linux](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)
- Repository n√†y kh√¥ng cung c·∫•p `requirements.txt` hay `pyproject.toml` ri√™ng ƒë·ªÉ c√†i b·∫±ng pip tr·ª±c ti·∫øp.

## C√†i ƒë·∫∑t

### T√πy ch·ªçn A: G√≥i portable (khuy·∫øn ngh·ªã)

1. T·∫£i g√≥i `.7z` ho·∫∑c `.7z.exe` t·ª± gi·∫£i n√©n.
2. Gi·∫£i n√©n t·ªáp.
3. Kh·ªüi ch·∫°y `Umi-OCR.exe`.

### T√πy ch·ªçn B: Scoop (Windows)

```bash
scoop bucket add extras
```

Phi√™n b·∫£n RapidOCR (t∆∞∆°ng th√≠ch t·ªët h∆°n):

```bash
scoop install extras/umi-ocr
```

Phi√™n b·∫£n PaddleOCR (nhanh h∆°n m·ªôt ch√∫t):

```bash
scoop install extras/umi-ocr-paddle
```

Kh√¥ng c√†i ƒë·ªìng th·ªùi c·∫£ hai phi√™n b·∫£n (c√≥ th·ªÉ x·∫£y ra xung ƒë·ªôt ph√≠m t·∫Øt). H√£y d√πng chuy·ªÉn ƒë·ªïi plugin khi c·∫ßn.

### T√πy ch·ªçn C: Build/Run qua runtime repositories

Th·ª±c hi·ªán theo h∆∞·ªõng d·∫´n build/bootstrap runtime t·ª´:

- [Windows runtime setup](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Linux runtime setup](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

## T·∫£i b·∫£n ph√°t h√†nh

| Mirror | Li√™n k·∫øt | Ghi ch√∫ |
| --- | --- | --- |
| Lanzou | https://hiroi-sora.lanzoul.com/s/umi-ocr | Mirror theo khu v·ª±c |
| GitHub | https://github.com/hiroi-sora/Umi-OCR/releases/latest | Trang ph√°t h√†nh upstream ch√≠nh |
| SourceForge | https://sourceforge.net/projects/umi-ocr | Mirror thay th·∫ø ƒë·ªÉ t·∫£i |

## C√°ch d√πng

### B·∫Øt ƒë·∫ßu nhanh

- Umi-OCR l√† d·∫°ng portable; kh√¥ng c·∫ßn c√†i ƒë·∫∑t.
- Kh·ªüi ch·∫°y `Umi-OCR.exe` sau khi gi·∫£i n√©n.
- N·∫øu kh·ªüi ƒë·ªông th·∫•t b·∫°i, xem [Kh·∫Øc ph·ª•c s·ª± c·ªë](#khac-phuc-su-co).

### Ng√¥n ng·ªØ giao di·ªán

Trong l·∫ßn ch·∫°y ƒë·∫ßu ti√™n, ng√¥n ng·ªØ giao di·ªán t·ª± ƒë·ªông ch·ªçn theo locale h·ªá th·ªëng.

ƒê·ªÉ chuy·ªÉn th·ªß c√¥ng: `Global Settings -> Language`.

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599c3f9e600.png" alt="Language switch" style="width: 80%;"></p>

### Tab v√† lu·ªìng l√†m vi·ªác

- Ch·ªâ m·ªü nh·ªØng tab b·∫°n c·∫ßn cho lu·ªìng c√¥ng vi·ªác.
- B·∫≠t/t·∫Øt lu√¥n ·ªü tr√™n c√πng t·ª´ g√≥c tr√°i tr√™n thanh tab.
- Kh√≥a tab ·ªü g√≥c ph·∫£i tr√™n ƒë·ªÉ tr√°nh ƒë√≥ng nh·∫ßm.

### S·ª≠ d·ª•ng d√≤ng l·ªánh

T√†i li·ªáu CLI: [docs/README_CLI.md](docs/README_CLI.md)

ƒêi·ªÅu khi·ªÉn c∆° b·∫£n:

```bash
umi-ocr --help
umi-ocr --show
umi-ocr --hide
umi-ocr --quit
umi-ocr --reload
```

L·ªánh OCR:

```bash
umi-ocr --screenshot
umi-ocr --clipboard
umi-ocr --path "D:/img1.png" "D:/img2.png" "D:/image/test"
```

Ch·ª•p m√†n h√¨nh v·ªõi v√πng c·ªë ƒë·ªãnh:

```bash
umi-ocr --screenshot screen=1 rect=50,100,300,200
```

L·ªánh QR:

```bash
umi-ocr --qrcode_read "D:/qr.png"
umi-ocr --qrcode_create "hello world" "D:/out.jpeg" 256 256
```

T√πy ch·ªçn ƒë·∫ßu ra:

```bash
umi-ocr --screenshot --clip
umi-ocr --screenshot --output result.txt
umi-ocr --screenshot "-->" result.txt
umi-ocr --screenshot --output_append result.txt
umi-ocr --screenshot "-->>" result.txt
```

### S·ª≠ d·ª•ng HTTP API

T√†i li·ªáu HTTP: [docs/http/README.md](docs/http/README.md)

C√°c endpoint ch√≠nh:

| Endpoint | M·ª•c ƒë√≠ch |
| --- | --- |
| `/api/ocr/get_options` | T√πy ch·ªçn OCR |
| `/api/ocr` | Th·ª±c thi OCR |
| `/api/doc/*` | T√πy ch·ªçn/t·∫£i l√™n/k·∫øt qu·∫£/t·∫£i xu·ªëng t√†i li·ªáu |
| `/api/qrcode` | Gi·∫£i m√£ QR |
| `/argv` | C·∫ßu n·ªëi CLI qua HTTP |

L∆∞u √Ω: Trong `Global Settings`, d·ªãch v·ª• HTTP ph·∫£i gi·ªØ b·∫≠t (m·∫∑c ƒë·ªãnh). Ch·ªâ d√πng host n·ªôi b·ªô, tr·ª´ khi c·∫ßn truy c·∫≠p trong LAN.

## C·∫•u h√¨nh

- C√†i ƒë·∫∑t runtime ƒë∆∞·ª£c l∆∞u trong `UmiOCR-data/.settings` (ƒë·ªãnh d·∫°ng INI).
- Sau khi ch·ªânh s·ª≠a tay config, √°p d·ª•ng thay ƒë·ªïi b·∫±ng:

```bash
umi-ocr --reload
```

- M·ªôt s·ªë tr·∫°ng th√°i t∆∞∆°ng th√≠ch khi kh·ªüi ƒë·ªông/ch·∫°y c√≥ th·ªÉ li√™n quan t·ªõi:
  - `UmiOCR-data/.pre_settings`
  - `UmiOCR-data/logs/` (ƒë·ªëi v·ªõi phi√™n b·∫£n c√≥ ghi log runtime)

## V√≠ d·ª•

### V√≠ d·ª• 1: OCR h√†ng lo·∫°t theo ƒë∆∞·ªùng d·∫´n

```bash
umi-ocr --path "D:/book_pages" --output "D:/ocr_output.txt"
```

### V√≠ d·ª• 2: ƒê·ªçc QR t·ª´ nhi·ªÅu ƒë∆∞·ªùng d·∫´n

```bash
umi-ocr --qrcode_read "D:/qr/1.png" "D:/qr/2.png"
```

### V√≠ d·ª• 3: T·∫°o QR v·ªõi k√≠ch th∆∞·ªõc ch·ªâ ƒë·ªãnh

```bash
umi-ocr --qrcode_create "https://github.com/hiroi-sora/Umi-OCR" "D:/qr_out.jpeg" 128 256
```

### V√≠ d·ª• 4: G·ªçi module n√¢ng cao

```bash
umi-ocr --all_modules
umi-ocr --call_qml QRCode --func scanPaths '["D:/Pictures/Screenshots/test/‰∫åÁª¥Á†Å/1111.png","D:/Pictures/Screenshots/test/‰∫åÁª¥Á†Å/2222.png"]'
```

## Tham chi·∫øu API

- H∆∞·ªõng d·∫´n d√≤ng l·ªánh: [docs/README_CLI.md](docs/README_CLI.md)
- H∆∞·ªõng d·∫´n HTTP API: [docs/http/README.md](docs/http/README.md)
- OCR API: [docs/http/api_ocr.md](docs/http/api_ocr.md)
- Document API: [docs/http/api_doc.md](docs/http/api_doc.md)
- QR API: [docs/http/api_qrcode.md](docs/http/api_qrcode.md)
- HTTP argv bridge: [docs/http/argv.md](docs/http/argv.md)

## Ghi ch√∫ ph√°t tri·ªÉn

- Entry points:
  - `UmiOCR-data/main.py` (kh·ªüi ch·∫°y runtime)
  - `UmiOCR-data/py_src/run.py` (kh·ªüi ƒë·ªông ·ª©ng d·ª•ng)
- Stack giao di·ªán: PySide2 + QML (`UmiOCR-data/qt_res/qml`).
- C√°c d·ªãch v·ª• c·ªët l√µi:
  - `py_src/server/*` cho HTTP + truy·ªÅn l·ªánh
  - `py_src/mission/*` cho h√†ng ƒë·ª£i t√°c v·ª• OCR/T√†i li·ªáu/QR
  - `py_src/ocr/*` cho h·∫≠u x·ª≠ l√Ω OCR v√† k·∫øt qu·∫£ ƒë·∫ßu ra
- C√°c engine OCR ƒë∆∞·ª£c h·ªó tr·ª£ b·ªüi h·ªá sinh th√°i:
  - [PaddleOCR-json](https://github.com/hiroi-sora/PaddleOCR-json)
  - [RapidOCR-json](https://github.com/hiroi-sora/RapidOCR-json)
- Runtime framework: [PyStand (customized)](https://github.com/skywind3000/PyStand)

## Kh·∫Øc ph·ª•c s·ª± c·ªë

Chi ti·∫øt ƒë·∫ßy ƒë·ªß: https://github.com/hiroi-sora/Umi-OCR/issues/447

M·ª•c l·ª•c nhanh:

| Tri·ªáu ch·ª©ng | ƒêi t·ªõi |
| --- | --- |
| Kh√¥ng t√¨m th·∫•y `Py_Main()` | [`Cannot find Py_Main()`](#cannot-find-py_main) |
| T·∫°o OpenGL context th·∫•t b·∫°i | [`Failed to create OpenGL context`](#failed-to-create-opengl-context) |
| ·ª®ng d·ª•ng crash khi kh·ªüi ƒë·ªông | [`Umi-OCR.exe has stopped working`](#umi-ocrexe-has-stopped-working) |
| `0xc0000142` / OCR init th·∫•t b·∫°i | [`0xc0000142` ho·∫∑c OCR init failure with MKLDNN/AVX hints](#0xc0000142-or-ocr-init-failure-with-mkldnnavx-hints) |
| Thi·∫øu `api-ms-win-crt-runtime-l1-1-0.dll` | [`Missing api-ms-win-crt-runtime-l1-1-0dll`](#missing-api-ms-win-crt-runtime-l1-1-0dll) |

### `Cannot find Py_Main()`

- C√†i VC runtime: https://aka.ms/vs/17/release/vc_redist.x64.exe
- Ho·∫∑c kh·ªüi ch·∫°y b·∫±ng launcher d·ª± ph√≤ng `UmiOCR-data/RUN_GUI.bat`.
- L∆∞u √Ω: launcher `.bat` c√≥ gi·ªõi h·∫°n (kh√¥ng ƒëi·ªÅu khi·ªÉn CLI ƒë∆∞·ª£c, t·ª± ƒë·ªông h√≥a ph√≠m t·∫Øt c√≥ gi·ªõi h·∫°n).

### `Failed to create OpenGL context`

- T·∫£i b·∫£n v√° runtime: https://github.com/hiroi-sora/Umi-OCR_v2/files/13167436/opengl32sw_64.zip
- Ch√©p DLL ƒë√£ gi·∫£i n√©n v√†o `UmiOCR-data/site-packages/PySide2/`.

### `Umi-OCR.exe has stopped working`

- Hay g·∫∑p khi t√°i s·ª≠ d·ª•ng config gi·ªØa c√°c phi√™n b·∫£n Windows kh√°c nhau.
- X√≥a `UmiOCR-data/.pre_settings` r·ªìi th·ª≠ l·∫°i.

### `0xc0000142` or OCR init failure with MKLDNN/AVX hints

- C√≥ kh·∫£ nƒÉng CPU kh√¥ng h·ªó tr·ª£ AVX.
- D√πng phi√™n b·∫£n RapidOCR ho·∫∑c chuy·ªÉn kh·ªèi plugin PaddleOCR:
  - [Umi-OCR_Rapid releases](https://github.com/hiroi-sora/Umi-OCR/releases)
  - [Umi-OCR plugins](https://github.com/hiroi-sora/Umi-OCR_plugins/releases)

### Black console with `OSError` (program not found)

- Th∆∞·ªùng g·∫∑p tr√™n c√°c b·∫£n Windows 7 ƒë·ªùi ƒë·∫ßu ch∆∞a v√° ƒë·ªß (ƒë·∫∑c bi·ªát thi·∫øu `KB2533623`).
- Khuy·∫øn ngh·ªã kh·∫Øc ph·ª•c: ch·∫°y Windows Update ƒë·∫ßy ƒë·ªß r·ªìi kh·ªüi ƒë·ªông l·∫°i.

### Crash while exporting searchable PDF

- Th∆∞·ªùng do thi·∫øu c·∫≠p nh·∫≠t Windows 7 (ƒë·∫∑c bi·ªát `KB4534310` v√† c√°c ph·ª• thu·ªôc).
- Khuy·∫øn ngh·ªã kh·∫Øc ph·ª•c: c√†i t·∫•t c·∫£ b·∫£n c·∫≠p nh·∫≠t h·ªá th·ªëng c√≤n thi·∫øu qua Windows Update.

### Missing `api-ms-win-crt-runtime-l1-1-0.dll`

- C√†i VC runtime: https://aka.ms/vs/17/release/vc_redist.x64.exe

### ƒê·∫∑t shortcut th·ªß c√¥ng

N·∫øu ƒë·∫∑t shortcut t·ª± ƒë·ªông kh√¥ng ho·∫°t ƒë·ªông, h√£y ƒë·∫∑t th·ªß c√¥ng:

- Start menu: `C:\ProgramData\Microsoft\Windows\Start Menu`
- Startup: `C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup`

## B·∫£n ƒë·ªãa h√≥a

D·ª± √°n s·ª≠ d·ª•ng Weblate cho b·∫£n ƒë·ªãa h√≥a c·ªông t√°c:

- [Weblate: Umi-OCR](https://hosted.weblate.org/engage/umi-ocr/)

C√°c t·ªáp README ng√¥n ng·ªØ trong repository n√†y:

| Ng√¥n ng·ªØ | T·ªáp |
| --- | --- |
| Ti·∫øng Anh | `README.md` |
| Ti·∫øng ·∫¢ R·∫≠p | `i18n/README.ar.md` |
| Ti·∫øng T√¢y Ban Nha | `i18n/README.es.md` |
| Ti·∫øng Ph√°p | `i18n/README.fr.md` |
| Ti·∫øng Nh·∫≠t | `i18n/README.ja.md` |
| Ti·∫øng H√†n | `i18n/README.ko.md` |
| Ti·∫øng Trung Gi·∫£n th·ªÉ | `i18n/README.zh-Hans.md` |
| Ti·∫øng Trung Ph·ªìn th·ªÉ | `i18n/README.zh-Hant.md` |
| Ti·∫øng ƒê·ª©c | `i18n/README.de.md` |
| Ti·∫øng Nga | `i18n/README.ru.md` |

C·∫£m ∆°n c√°c d·ªãch gi·∫£:

| D·ªãch gi·∫£ | Ng√¥n ng·ªØ ƒë√£ ƒë√≥ng g√≥p |
| --- | --- |
| [Êù®Èπè](https://hosted.weblate.org/user/ypf) | Portugu√™s |
| [‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç](https://hosted.weblate.org/user/TamilNeram/) | ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç |

N·∫øu c√≥ l·ªói ho·∫∑c thi·∫øu s√≥t, vui l√≤ng ph·∫£n h·ªìi trong [th·∫£o lu·∫≠n n√†y](https://github.com/hiroi-sora/Umi-OCR/discussions/449).

## L·ªô tr√¨nh

### ƒê√£ ho√†n th√†nh

- Ki·∫øn tr√∫c d·∫°ng tab.
- B·ªô ƒëi·ªÅu khi·ªÉn OCR API.
- B·ªô ƒëi·ªÅu khi·ªÉn nhi·ªám v·ª• OCR.
- Tr√¨nh qu·∫£n l√Ω theme h·ªó tr·ª£ s√°ng/t·ªëi.
- OCR h√†ng lo·∫°t.
- OCR ·∫£nh ch·ª•p m√†n h√¨nh.
- C∆° ch·∫ø hotkey.
- Menu khay h·ªá th·ªëng.
- H·∫≠u x·ª≠ l√Ω kh·ªëi vƒÉn b·∫£n (t·ªëi ∆∞u b·ªë c·ª•c).
- D·ªçn d·∫πp b·ªô nh·ªõ engine.
- Giao di·ªán ng∆∞·ªùi d√πng ƒëa ng√¥n ng·ªØ.
- Ch·∫ø ƒë·ªô d√≤ng l·ªánh.
- T∆∞∆°ng th√≠ch Windows 7.
- ƒê·ªãnh d·∫°ng xu·∫•t Excel (CSV).
- Ng·∫Øt OCR b·∫±ng `Esc`.
- T·ªáp theme ngo√†i.
- Chuy·ªÉn ph√¥ng ch·ªØ.
- Hi·ªáu ·ª©ng loading.
- V√πng b·ªè qua.
- Nh·∫≠n d·∫°ng m√£ QR.
- Xem tr∆∞·ªõc ·∫£nh trong nh·∫≠n d·∫°ng h√†ng lo·∫°t.
- Nh·∫≠n d·∫°ng PDF.
- M·ªü ·∫£nh b·∫±ng tr√¨nh xem ·∫£nh c·ª•c b·ªô. [#335](https://github.com/hiroi-sora/Umi-OCR/issues/335)
- L·∫∑p l·∫°i v√πng ch·ª•p m√†n h√¨nh tr∆∞·ªõc ƒë√≥. [#357](https://github.com/hiroi-sora/Umi-OCR/issues/357)
- Kh·∫Øc ph·ª•c t∆∞∆°ng th√≠ch Windows 7 trong nh·∫≠n d·∫°ng t√†i li·ªáu.
- H·ªó tr·ª£ ƒë·ªçc/t·∫°o QR trong giao di·ªán HTTP v√† CLI. (#423)
- T√†i li·ªáu giao di·ªán QR.
- Di chuy·ªÉn n·ªÅn t·∫£ng sang Linux.
- HTTP document-recognition API.

### K·∫ø ho·∫°ch d√†i h·∫°n

C√°c m·ª•c sau l√† √Ω t∆∞·ªüng d·ª± ki·∫øn v√† c√≥ th·ªÉ thay ƒë·ªïi theo qu√° tr√¨nh ph√°t tri·ªÉn:

- [ ] Refactor c∆° ch·∫ø plugin n·ªÅn.
- [ ] Plugin OCR API tr·ª±c tuy·∫øn.
- [ ] Plugin nh·∫≠n d·∫°ng c√¥ng th·ª©c ƒë·ªôc l·∫≠p.
- [ ] Tab c√¥ng th·ª©c chuy√™n d·ª•ng c√≥ render LaTeX.
- [ ] C∆° ch·∫ø ki·ªÉm tra c·∫≠p nh·∫≠t.
- [ ] Th√™m c√°c module h·∫≠u x·ª≠ l√Ω ngo√†i vi·ªác t·ªëi ∆∞u b·ªë c·ª•c.
- [ ] Trigger s·ª± ki·ªán cho c√°c ch·ª©c nƒÉng giao di·ªán ch√≠nh.
- [ ] OCR offline d·ª±a tr√™n GPU.
- [ ] D·ªãch ·∫£nh.
- [ ] D·ªãch offline.
- [ ] OCR v√πng c·ªë ƒë·ªãnh.
- [ ] Nh·∫≠n d·∫°ng b·∫£ng ra Excel.
- [ ] H·ªá th·ªëng l·ªãch s·ª≠.
- [ ] M·ªü r·ªông t∆∞∆°ng th√≠ch cho n·ªÅn t·∫£ng nh∆∞ macOS/Ubuntu.

## ƒê√≥ng g√≥p

M·ªçi ƒë√≥ng g√≥p ƒë·ªÅu ƒë∆∞·ª£c ch√†o ƒë√≥n.

- B√°o l·ªói ho·∫∑c ƒë·ªÅ xu·∫•t t√≠nh nƒÉng t·∫°i [Issues](https://github.com/hiroi-sora/Umi-OCR/issues).
- Th·∫£o lu·∫≠n √Ω t∆∞·ªüng t·∫°i [Discussions](https://github.com/hiroi-sora/Umi-OCR/discussions).
- ƒê√≥ng g√≥p b·∫£n d·ªãch qua [Weblate](https://hosted.weblate.org/engage/umi-ocr/).
- V·ªõi c√¥ng vi·ªác v·ªÅ engine/plugin, xem th√™m [Umi-OCR_plugins](https://github.com/hiroi-sora/Umi-OCR_plugins).

ƒê·ªÉ thi·∫øt l·∫≠p m√¥i tr∆∞·ªùng ph√°t tri·ªÉn, theo c√°c runtime repository theo n·ªÅn t·∫£ng:

- [Umi-OCR_runtime_windows](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Umi-OCR_runtime_linux](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

## L·ªãch s·ª≠ Star

[![Star History Chart](https://api.star-history.com/svg?repos=hiroi-sora/Umi-OCR&type=Date)](https://star-history.com/#hiroi-sora/Umi-OCR&Date)

## CHANGE LOG

- [CHANGE_LOG.md](CHANGE_LOG.md)

## Gi·∫•y ph√©p

D·ª± √°n n√†y ƒë∆∞·ª£c c·∫•p ph√©p theo MIT License.

- [LICENSE](LICENSE)


## ‚ù§Ô∏è Support

| Donate | PayPal | Stripe |
| --- | --- | --- |
| [![Donate](https://camo.githubusercontent.com/24a4914f0b42c6f435f9e101621f1e52535b02c225764b2f6cc99416926004b7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f6e6174652d4c617a79696e674172742d3045413545393f7374796c653d666f722d7468652d6261646765266c6f676f3d6b6f2d6669266c6f676f436f6c6f723d7768697465)](https://chat.lazying.art/donate) | [![PayPal](https://camo.githubusercontent.com/d0f57e8b016517a4b06961b24d0ca87d62fdba16e18bbdb6aba28e978dc0ea21/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50617950616c2d526f6e677a686f754368656e2d3030343537433f7374796c653d666f722d7468652d6261646765266c6f676f3d70617970616c266c6f676f436f6c6f723d7768697465)](https://paypal.me/RongzhouChen) | [![Stripe](https://camo.githubusercontent.com/1152dfe04b6943afe3a8d2953676749603fb9f95e24088c92c97a01a897b4942/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5374726970652d446f6e6174652d3633354246463f7374796c653d666f722d7468652d6261646765266c6f676f3d737472697065266c6f676f436f6c6f723d7768697465)](https://buy.stripe.com/aFadR8gIaflgfQV6T4fw400) |
