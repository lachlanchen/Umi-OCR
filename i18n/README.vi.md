[English](../README.md) ¬∑ [ÿßŸÑÿπÿ±ÿ®Ÿäÿ©](README.ar.md) ¬∑ [Espa√±ol](README.es.md) ¬∑ [Fran√ßais](README.fr.md) ¬∑ [Êó•Êú¨Ë™û](README.ja.md) ¬∑ [ÌïúÍµ≠Ïñ¥](README.ko.md) ¬∑ [Ti·∫øng Vi·ªát](README.vi.md) ¬∑ [‰∏≠Êñá (ÁÆÄ‰Ωì)](README.zh-Hans.md) ¬∑ [‰∏≠ÊñáÔºàÁπÅÈ´îÔºâ](README.zh-Hant.md) ¬∑ [Deutsch](README.de.md) ¬∑ [–†—É—Å—Å–∫–∏–π](README.ru.md)


<p align="center">
  <a href="https://github.com/hiroi-sora/Umi-OCR">
    <img width="200" height="128" src="https://tupian.li/images/2022/10/27/icon---256.png" alt="Umi-OCR">
  </a>
</p>

<h1 align="center">Umi-OCR</h1>

<p align="center">
  <a href="https://github.com/hiroi-sora/Umi-OCR/releases/latest">
    <img src="https://img.shields.io/github/v/release/hiroi-sora/Umi-OCR?style=flat-square" alt="Umi-OCR">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/blob/main/LICENSE">
    <img src="https://img.shields.io/github/license/hiroi-sora/Umi-OCR?style=flat-square" alt="LICENSE">
  </a>
  <a href="#tai-ban-phat-hanh">
    <img src="https://img.shields.io/github/downloads/hiroi-sora/Umi-OCR/total?style=flat-square" alt="downloads">
  </a>
  <a href="https://star-history.com/#hiroi-sora/Umi-OCR">
    <img src="https://img.shields.io/github/stars/hiroi-sora/Umi-OCR?style=flat-square" alt="stars">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/forks">
    <img src="https://img.shields.io/github/forks/hiroi-sora/Umi-OCR?style=flat-square" alt="forks">
  </a>
  <a href="https://hosted.weblate.org/engage/umi-ocr/">
    <img src="https://hosted.weblate.org/widget/umi-ocr/svg-badge.svg" alt="translation status">
  </a>
  <img src="https://img.shields.io/badge/Platform-Windows%207%2B%20%7C%20Linux%20x64-2ea44f?style=flat-square" alt="platform">
  <img src="https://img.shields.io/badge/OCR-Offline-1f6feb?style=flat-square" alt="offline OCR">
  <img src="https://img.shields.io/badge/Interface-GUI%20%7C%20CLI%20%7C%20HTTP-f97316?style=flat-square" alt="interfaces">
</p>

<div align="center">
  <h3>
    <a href="#muc-luc">C√°ch d√πng</a>
    <span> ‚Ä¢ </span>
    <a href="#tai-ban-phat-hanh">T·∫£i b·∫£n ph√°t h√†nh</a>
    <span> ‚Ä¢ </span>
    <a href="CHANGE_LOG.md">Nh·∫≠t k√Ω thay ƒë·ªïi</a>
    <span> ‚Ä¢ </span>
    <a href="https://github.com/hiroi-sora/Umi-OCR/issues">B√°o l·ªói</a>
  </h3>
</div>

<div align="center">
  <strong>Ph·∫ßn m·ªÅm OCR offline, m√£ ngu·ªìn m·ªü, mi·ªÖn ph√≠, h·ªó tr·ª£ x·ª≠ l√Ω h√†ng lo·∫°t</strong><br>
  <sub>T∆∞∆°ng th√≠ch v·ªõi Windows 7 x64 v√† Linux x64</sub>
</div>

## T·ªïng quan

Umi-OCR l√† c√¥ng c·ª• OCR ∆∞u ti√™n desktop, t·∫≠p trung v√†o x·ª≠ l√Ω offline, lu·ªìng c√¥ng vi·ªác h√†ng lo·∫°t hi·ªáu nƒÉng cao v√† kh·∫£ nƒÉng t√≠ch h·ª£p th·ª±c t·∫ø.

- **Mi·ªÖn ph√≠**: To√†n b·ªô m√£ ngu·ªìn m·ªü v√† d√πng mi·ªÖn ph√≠.
- **Ti·ªán l·ª£i**: Gi·∫£i n√©n v√† ch·∫°y c·ª•c b·ªô, OCR l√µi kh√¥ng ph·ª• thu·ªôc m·∫°ng.
- **Hi·ªáu qu·∫£**: T√≠ch h·ª£p s·∫µn c√°c engine OCR offline h·ªó tr·ª£ ƒëa ng√¥n ng·ªØ.
- **Linh ho·∫°t**: H·ªó tr·ª£ quy tr√¨nh GUI, ƒëi·ªÅu khi·ªÉn d√≤ng l·ªánh v√† HTTP API.
- **ƒê·∫ßy ƒë·ªß t√≠nh nƒÉng**: OCR ·∫£nh ch·ª•p m√†n h√¨nh, OCR h√†ng lo·∫°t, OCR t√†i li·ªáu, ƒë·ªçc/t·∫°o m√£ QR, ƒëi·ªÉm v√†o nh·∫≠n d·∫°ng c√¥ng th·ª©c.

| ‚úÖ Th√¥ng tin nhanh | Chi ti·∫øt |
| --- | --- |
| üß© Gi·∫•y ph√©p | MIT |
| üåê Y√™u c·∫ßu m·∫°ng | Kh√¥ng c·∫ßn m·∫°ng cho c√°c lu·ªìng OCR c·ªët l√µi |
| üíª N·ªÅn t·∫£ng | Windows 7 x64+ / Linux x64 |
| üõ† Ch·∫ø ƒë·ªô s·ª≠ d·ª•ng | GUI, CLI, HTTP API |
| üåç D·ªãch thu·∫≠t | B·∫£n ƒë·ªãa h√≥a c·ªông ƒë·ªìng qua Weblate |

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599097ab5f4.png" alt="Umi-OCR preview 1" style="width: 80%;"></p>

![Umi-OCR preview 2](https://tupian.li/images/2023/11/19/6559909fdeeba.png)

## M·ª•c l·ª•c

- [T√≠nh nƒÉng](#tinh-nang)
- [C·∫•u tr√∫c d·ª± √°n](#cau-truc-du-an)
- [ƒêi·ªÅu ki·ªán ti√™n quy·∫øt](#dieu-kien-tien-quyet)
- [C√†i ƒë·∫∑t](#cai-dat)
- [T·∫£i b·∫£n ph√°t h√†nh](#tai-ban-phat-hanh)
- [C√°ch d√πng](#cach-dung)
- [C·∫•u h√¨nh](#cau-hinh)
- [V√≠ d·ª•](#vi-du)
- [Tham chi·∫øu API](#tham-chieu-api)
- [Ghi ch√∫ ph√°t tri·ªÉn](#ghi-chu-phat-trien)
- [Kh·∫Øc ph·ª•c s·ª± c·ªë](#khac-phuc-su-co)
- [B·∫£n ƒë·ªãa h√≥a](#ban-dia-hoa)
- [L·ªô tr√¨nh](#lo-trinh)
- [ƒê√≥ng g√≥p](#dong-gop)
- [H·ªó tr·ª£](#ho-tro)
- [Gi·∫•y ph√©p](#giay-phep)

## T√≠nh nƒÉng

### OCR ·∫£nh ch·ª•p m√†n h√¨nh

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599097aba8e.png" alt="Screenshot OCR" style="width: 80%;"></p>

- K√≠ch ho·∫°t OCR b·∫±ng ph√≠m t·∫Øt ch·ª•p m√†n h√¨nh sau khi m·ªü tab Screenshot OCR.
- Khung b√™n tr√°i h·ªó tr·ª£ ch·ªçn vƒÉn b·∫£n tr·ª±c ti·∫øp trong ph·∫ßn xem tr∆∞·ªõc ·∫£nh.
- Khung b√™n ph·∫£i h·ªó tr·ª£ ch·ªânh s·ª≠a l·ªãch s·ª≠ nh·∫≠n d·∫°ng v√† sao ch√©p nhi·ªÅu b·∫£n ghi.
- H·ªó tr·ª£ d√°n ·∫£nh t·ª´ clipboard.
- Tham kh·∫£o nh·∫≠n d·∫°ng c√¥ng th·ª©c: [Issue #254](https://github.com/hiroi-sora/Umi-OCR/issues/254)

#### H·∫≠u x·ª≠ l√Ω vƒÉn b·∫£n (ph√¢n t√≠ch b·ªë c·ª•c)

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559909f3e378.png" alt="Text post-processing" style="width: 80%;"></p>

C√°c scheme t√≠ch h·ª£p s·∫µn ƒë·ªÉ s·∫Øp x·∫øp l·∫°i kh·ªëi OCR v√† c·∫£i thi·ªán kh·∫£ nƒÉng ƒë·ªçc:

- `Multi-column - natural paragraphs`
- `Multi-column - always line break`
- `Multi-column - no line break`
- `Single-column - natural paragraphs`
- `Single-column - always line break`
- `Single-column - no line break`
- `Single-column - preserve indentation` (h·ªØu √≠ch cho ƒëo·∫°n m√£)
- `No post-processing` (ƒë·∫ßu ra OCR th√¥)

C√°c scheme n√†y c√≥ th·ªÉ x·ª≠ l√Ω b·ªë c·ª•c ngang v√† d·ªçc (ph·∫£i sang tr√°i) n·∫øu model engine OCR ƒë√£ ch·ªçn h·ªó tr·ª£.

### OCR h√†ng lo·∫°t

<p align="center"><img src="https://tupian.li/images/2023/11/19/655990a2511e0.png" alt="Batch OCR" style="width: 80%;"></p>

- ƒê·ªãnh d·∫°ng ƒë·∫ßu v√†o: `jpg, jpe, jpeg, jfif, png, webp, bmp, tif, tiff`
- ƒê·ªãnh d·∫°ng ƒë·∫ßu ra: `txt, jsonl, md, csv(Excel)`
- H·ªó tr·ª£ c√°c quy t·∫Øc h·∫≠u x·ª≠ l√Ω vƒÉn b·∫£n t·ª´ Screenshot OCR.
- Kh√¥ng c√≥ gi·ªõi h·∫°n th·ª±c t·∫ø v·ªÅ s·ªë t√°c v·ª• trong lu·ªìng UI (h·ªó tr·ª£ h√†ng trƒÉm ·∫£nh m·ªói l·∫ßn ch·∫°y).
- H·ªó tr·ª£ t·ª± ƒë·ªông t·∫Øt m√°y/ng·ªß sau khi ho√†n t·∫•t t√°c v·ª•.
- V·ªõi ·∫£nh si√™u l·ªõn, ƒëi·ªÅu ch·ªânh `OCR settings -> image side limit`.

#### V√πng b·ªè qua

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559911d28be7.png" alt="Ignore region editor" style="width: 80%;"></p>

- Lo·∫°i tr·ª´ watermark/logo c·ªë ƒë·ªãnh khi OCR h√†ng lo·∫°t.
- V·∫Ω nhi·ªÅu h√¨nh ch·ªØ nh·∫≠t b·∫±ng n√∫t chu·ªôt ph·∫£i trong tr√¨nh ch·ªânh s·ª≠a Ignore Region.
- V·∫Ω h√¨nh ch·ªØ nh·∫≠t l·ªõn h∆°n v√πng watermark m·ª•c ti√™u ƒë·ªÉ tƒÉng ƒë·ªô ·ªïn ƒë·ªãnh.
- C∆° ch·∫ø b·ªè qua theo kh·ªëi (kh·ªëi vƒÉn b·∫£n n·∫±m trong v√πng s·∫Ω b·ªã b·ªè qua).

<p align="center"><img src="https://tupian.li/images/2024/05/30/66587bf03ae15.png" alt="Ignore region scope example" style="width: 80%;"></p>

### OCR t√†i li·ªáu

<p align="center"><img src="https://github.com/hiroi-sora/Umi-OCR/assets/56373419/fc2266ee-b9b7-4079-8b10-6610e6da6cf5" alt="Document OCR" style="width: 80%;"></p>

- ƒê·ªãnh d·∫°ng ƒë·∫ßu v√†o: `pdf, xps, epub, mobi, fb2, cbz`
- Tr√≠ch xu·∫•t vƒÉn b·∫£n nh√∫ng khi c√≥, ho·∫∑c OCR c√°c trang scan.
- Xu·∫•t PDF c√≥ l·ªõp vƒÉn b·∫£n ƒë·ªÉ t√¨m ki·∫øm.
- H·ªó tr·ª£ v√πng b·ªè qua (cho header/footer).
- H·ªó tr·ª£ t·ª± ƒë·ªông t·∫Øt m√°y/ng·ªß sau khi ho√†n t·∫•t t√°c v·ª•.

### M√£ QR

<p align="center"><img src="https://tupian.li/images/2023/11/19/655991268d6b1.png" alt="QR code" style="width: 80%;"></p>

Ch·∫ø ƒë·ªô ƒë·ªçc:

- Ch·ª•p m√†n h√¨nh, d√°n ho·∫∑c k√©o th·∫£ ·∫£nh c·ª•c b·ªô ƒë·ªÉ gi·∫£i m√£.
- H·ªó tr·ª£ nhi·ªÅu m√£ trong m·ªôt ·∫£nh.
- H·ªó tr·ª£ 19 ƒë·ªãnh d·∫°ng:

`Aztec`,`Codabar`,`Code128`,`Code39`,`Code93`,`DataBar`,`DataBarExpanded`,`DataMatrix`,`EAN13`,`EAN8`,`ITF`,`LinearCodes`,`MatrixCodes`,`MaxiCode`,`MicroQRCode`,`PDF417`,`QRCode`,`UPCA`,`UPCE`

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559911cda737.png" alt="QR code generate" style="width: 80%;"></p>

Ch·∫ø ƒë·ªô t·∫°o:

- T·∫°o ·∫£nh QR/m√£ v·∫°ch t·ª´ vƒÉn b·∫£n.
- H·ªó tr·ª£ ch·ªçn ƒë·ªãnh d·∫°ng v√† thi·∫øt l·∫≠p s·ª≠a l·ªói.

### Thi·∫øt l·∫≠p to√†n c·ª•c

<p align="center"><img src="https://tupian.li/images/2023/11/19/655991252e780.png" alt="Global settings" style="width: 80%;"></p>

- Th√™m ph√≠m t·∫Øt v√† c·∫•u h√¨nh h√†nh vi kh·ªüi ƒë·ªông.
- Chuy·ªÉn ng√¥n ng·ªØ giao di·ªán.
- Chuy·ªÉn theme (bi·∫øn th·ªÉ s√°ng/t·ªëi).
- C·∫•u h√¨nh font v√† t·ªâ l·ªá giao di·ªán.
- Chuy·ªÉn plugin OCR.
- ƒê·ªïi renderer (`Interface and Appearance -> Renderer`) khi tƒÉng t·ªëc GPU g√¢y nh·∫•p nh√°y ho·∫∑c l·ªách UI.

## C·∫•u tr√∫c d·ª± √°n

### Quan h·ªá repository

- [Main repository](https://github.com/hiroi-sora/Umi-OCR)
- [Plugin repository](https://github.com/hiroi-sora/Umi-OCR_plugins)
- [Windows runtime repository](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Linux runtime repository](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

### B·ªë c·ª•c runtime (b·ªë c·ª•c upstream chu·∫©n)

`**` nghƒ©a l√† n·ªôi dung c√≥ trong repository ch√≠nh n√†y.

```text
Umi-OCR
‚îú‚îÄ Umi-OCR.exe
‚îú‚îÄ umi-ocr.sh
‚îî‚îÄ UmiOCR-data
   ‚îú‚îÄ main.py **
   ‚îú‚îÄ version.py **
   ‚îú‚îÄ qt_res **
   ‚îÇ  ‚îî‚îÄ Qt resources, including icons and QML source
   ‚îú‚îÄ py_src **
   ‚îÇ  ‚îî‚îÄ Python source
   ‚îú‚îÄ plugins
   ‚îÇ  ‚îî‚îÄ OCR plugins
   ‚îî‚îÄ i18n **
      ‚îî‚îÄ translation files
```

### C√¢y m√£ ngu·ªìn trong snapshot repository n√†y

```text
.
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ README_en.md
‚îú‚îÄ‚îÄ README_ja.md
‚îú‚îÄ‚îÄ CHANGE_LOG.md
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ README_CLI.md
‚îÇ   ‚îî‚îÄ‚îÄ http/
‚îú‚îÄ‚îÄ UmiOCR-data/
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ py_src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ run.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mission/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ocr/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tag_pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ plugins_controller/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ image_controller/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ qt_res/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qml/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ i18n/
‚îú‚îÄ‚îÄ dev-tools/
‚îÇ   ‚îî‚îÄ‚îÄ i18n/
‚îî‚îÄ‚îÄ i18n/
```

## ƒêi·ªÅu ki·ªán ti√™n quy·∫øt

### Ng∆∞·ªùi d√πng cu·ªëi

| M·ª•c | Y√™u c·∫ßu |
| --- | --- |
| H·ªá ƒëi·ªÅu h√†nh | Windows 7 x64+ ho·∫∑c Linux x64 |
| CPU (khuy·∫øn ngh·ªã) | CPU x64 c√≥ h·ªó tr·ª£ AVX (cho plugin d·ª±a tr√™n PaddleOCR) |
| Runtime (Windows khuy·∫øn ngh·ªã) | Visual C++ runtime ƒë·ªÉ t∆∞∆°ng th√≠ch |

### Nh√† ph√°t tri·ªÉn

- ƒê·ªçc v√† l√†m theo h∆∞·ªõng d·∫´n thi·∫øt l·∫≠p runtime theo n·ªÅn t·∫£ng t·∫°i:
  - [Umi-OCR_runtime_windows](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
  - [Umi-OCR_runtime_linux](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)
- Repository n√†y kh√¥ng cung c·∫•p `requirements.txt` ho·∫∑c `pyproject.toml` ƒë·ªôc l·∫≠p cho thi·∫øt l·∫≠p pip tr·ª±c ti·∫øp.

## C√†i ƒë·∫∑t

### T√πy ch·ªçn A: G√≥i ph√°t h√†nh portable (khuy·∫øn ngh·ªã)

1. T·∫£i g√≥i `.7z` ho·∫∑c `.7z.exe` t·ª± gi·∫£i n√©n.
2. Gi·∫£i n√©n t·ªáp.
3. Ch·∫°y `Umi-OCR.exe`.

### T√πy ch·ªçn B: Scoop (Windows)

```bash
scoop bucket add extras
```

Bi·∫øn th·ªÉ RapidOCR (t∆∞∆°ng th√≠ch t·ªët h∆°n):

```bash
scoop install extras/umi-ocr
```

Bi·∫øn th·ªÉ PaddleOCR (nhanh h∆°n m·ªôt ch√∫t):

```bash
scoop install extras/umi-ocr-paddle
```

Kh√¥ng c√†i ƒë·ªìng th·ªùi c·∫£ hai bi·∫øn th·ªÉ (c√≥ th·ªÉ xung ƒë·ªôt shortcut). H√£y d√πng chuy·ªÉn ƒë·ªïi plugin khi c·∫ßn.

### T√πy ch·ªçn C: Build/Run qua runtime repositories

L√†m theo h∆∞·ªõng d·∫´n build/bootstrap runtime t·ª´:

- [Windows runtime setup](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Linux runtime setup](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

## T·∫£i b·∫£n ph√°t h√†nh

| Mirror | Li√™n k·∫øt | Ghi ch√∫ |
| --- | --- | --- |
| Lanzou | https://hiroi-sora.lanzoul.com/s/umi-ocr | Mirror theo khu v·ª±c |
| GitHub | https://github.com/hiroi-sora/Umi-OCR/releases/latest | Trang ph√°t h√†nh upstream ch√≠nh |
| SourceForge | https://sourceforge.net/projects/umi-ocr | Mirror t·∫£i xu·ªëng thay th·∫ø |

## C√°ch d√πng

### B·∫Øt ƒë·∫ßu nhanh

- Umi-OCR l√† d·∫°ng portable; kh√¥ng c·∫ßn tr√¨nh c√†i ƒë·∫∑t.
- Ch·∫°y `Umi-OCR.exe` sau khi gi·∫£i n√©n.
- N·∫øu kh·ªüi ƒë·ªông th·∫•t b·∫°i, xem [Kh·∫Øc ph·ª•c s·ª± c·ªë](#khac-phuc-su-co).

### Ng√¥n ng·ªØ giao di·ªán

·ªû l·∫ßn ch·∫°y ƒë·∫ßu ti√™n, ng√¥n ng·ªØ UI ƒë∆∞·ª£c t·ª± ƒë·ªông ch·ªçn theo locale h·ªá th·ªëng.

ƒê·ªÉ chuy·ªÉn th·ªß c√¥ng: `Global Settings -> Language`.

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599c3f9e600.png" alt="Language switch" style="width: 80%;"></p>

### Tab v√† lu·ªìng c√¥ng vi·ªác

- Ch·ªâ m·ªü c√°c tab c·∫ßn thi·∫øt cho lu·ªìng l√†m vi·ªác.
- B·∫≠t/t·∫Øt lu√¥n ·ªü tr√™n c√πng t·ª´ g√≥c tr√™n tr√°i thanh tab.
- Kh√≥a tab t·ª´ g√≥c tr√™n ph·∫£i ƒë·ªÉ tr√°nh ƒë√≥ng nh·∫ßm.

### S·ª≠ d·ª•ng d√≤ng l·ªánh

T√†i li·ªáu CLI: [docs/README_CLI.md](docs/README_CLI.md)

ƒêi·ªÅu khi·ªÉn c∆° b·∫£n:

```bash
umi-ocr --help
umi-ocr --show
umi-ocr --hide
umi-ocr --quit
umi-ocr --reload
```

L·ªánh OCR:

```bash
umi-ocr --screenshot
umi-ocr --clipboard
umi-ocr --path "D:/img1.png" "D:/img2.png" "D:/image/test"
```

Ch·ª•p m√†n h√¨nh v·ªõi v√πng c·ªë ƒë·ªãnh:

```bash
umi-ocr --screenshot screen=1 rect=50,100,300,200
```

L·ªánh QR:

```bash
umi-ocr --qrcode_read "D:/qr.png"
umi-ocr --qrcode_create "hello world" "D:/out.jpeg" 256 256
```

T√πy ch·ªçn ƒë·∫ßu ra:

```bash
umi-ocr --screenshot --clip
umi-ocr --screenshot --output result.txt
umi-ocr --screenshot "-->" result.txt
umi-ocr --screenshot --output_append result.txt
umi-ocr --screenshot "-->>" result.txt
```

### S·ª≠ d·ª•ng HTTP API

T√†i li·ªáu HTTP: [docs/http/README.md](docs/http/README.md)

C√°c endpoint ch√≠nh:

| Endpoint | M·ª•c ƒë√≠ch |
| --- | --- |
| `/api/ocr/get_options` | T√πy ch·ªçn OCR |
| `/api/ocr` | Th·ª±c thi OCR |
| `/api/doc/*` | T√πy ch·ªçn/t·∫£i l√™n/k·∫øt qu·∫£/t·∫£i xu·ªëng t√†i li·ªáu |
| `/api/qrcode` | Gi·∫£i m√£ QR |
| `/argv` | C·∫ßu n·ªëi CLI qua HTTP |

L∆∞u √Ω: Trong `Global Settings`, d·ªãch v·ª• HTTP ph·∫£i ƒë∆∞·ª£c b·∫≠t (m·∫∑c ƒë·ªãnh). Ch·ªâ d√πng host c·ª•c b·ªô tr·ª´ khi c·∫ßn truy c·∫≠p qua LAN.

## C·∫•u h√¨nh

- Thi·∫øt l·∫≠p runtime ƒë∆∞·ª£c l∆∞u trong `UmiOCR-data/.settings` (ƒë·ªãnh d·∫°ng INI).
- Sau khi ch·ªânh s·ª≠a config th·ªß c√¥ng, √°p d·ª•ng thay ƒë·ªïi b·∫±ng:

```bash
umi-ocr --reload
```

- M·ªôt s·ªë tr·∫°ng th√°i t∆∞∆°ng th√≠ch khi kh·ªüi ƒë·ªông/ch·∫°y c≈©ng c√≥ th·ªÉ li√™n quan ƒë·∫øn:
  - `UmiOCR-data/.pre_settings`
  - `UmiOCR-data/logs/` (v·ªõi c√°c phi√™n b·∫£n c√≥ logging runtime)

## V√≠ d·ª•

### V√≠ d·ª• 1: OCR h√†ng lo·∫°t theo ƒë∆∞·ªùng d·∫´n

```bash
umi-ocr --path "D:/book_pages" --output "D:/ocr_output.txt"
```

### V√≠ d·ª• 2: ƒê·ªçc QR t·ª´ nhi·ªÅu ƒë∆∞·ªùng d·∫´n

```bash
umi-ocr --qrcode_read "D:/qr/1.png" "D:/qr/2.png"
```

### V√≠ d·ª• 3: T·∫°o QR v·ªõi k√≠ch th∆∞·ªõc ch·ªâ ƒë·ªãnh

```bash
umi-ocr --qrcode_create "https://github.com/hiroi-sora/Umi-OCR" "D:/qr_out.jpeg" 128 256
```

### V√≠ d·ª• 4: G·ªçi module n√¢ng cao

```bash
umi-ocr --all_modules
umi-ocr --call_qml QRCode --func scanPaths '["D:/Pictures/Screenshots/test/‰∫åÁª¥Á†Å/1111.png","D:/Pictures/Screenshots/test/‰∫åÁª¥Á†Å/2222.png"]'
```

## Tham chi·∫øu API

- H∆∞·ªõng d·∫´n d√≤ng l·ªánh: [docs/README_CLI.md](docs/README_CLI.md)
- H∆∞·ªõng d·∫´n HTTP API: [docs/http/README.md](docs/http/README.md)
- OCR API: [docs/http/api_ocr.md](docs/http/api_ocr.md)
- Document API: [docs/http/api_doc.md](docs/http/api_doc.md)
- QR API: [docs/http/api_qrcode.md](docs/http/api_qrcode.md)
- C·∫ßu n·ªëi HTTP argv: [docs/http/argv.md](docs/http/argv.md)

## Ghi ch√∫ ph√°t tri·ªÉn

- Entry points:
  - `UmiOCR-data/main.py` (bootstrap runtime)
  - `UmiOCR-data/py_src/run.py` (kh·ªüi ƒë·ªông ·ª©ng d·ª•ng)
- UI stack: PySide2 + QML (`UmiOCR-data/qt_res/qml`).
- D·ªãch v·ª• c·ªët l√µi:
  - `py_src/server/*` cho HTTP + v·∫≠n chuy·ªÉn l·ªánh
  - `py_src/mission/*` cho h√†ng ƒë·ª£i t√°c v·ª• OCR/Doc/QR
  - `py_src/ocr/*` cho h·∫≠u x·ª≠ l√Ω OCR v√† ƒë·∫ßu ra
- C√°c OCR engine ƒë∆∞·ª£c h·ªá sinh th√°i h·ªó tr·ª£:
  - [PaddleOCR-json](https://github.com/hiroi-sora/PaddleOCR-json)
  - [RapidOCR-json](https://github.com/hiroi-sora/RapidOCR-json)
- Khung runtime: [PyStand (customized)](https://github.com/skywind3000/PyStand)

## Kh·∫Øc ph·ª•c s·ª± c·ªë

Xem chi ti·∫øt ƒë·∫ßy ƒë·ªß: https://github.com/hiroi-sora/Umi-OCR/issues/447

M·ª•c l·ª•c nhanh:

| Tri·ªáu ch·ª©ng | ƒêi t·ªõi |
| --- | --- |
| Kh√¥ng t√¨m th·∫•y `Py_Main()` | [`Cannot find Py_Main()`](#cannot-find-py_main) |
| T·∫°o OpenGL context th·∫•t b·∫°i | [`Failed to create OpenGL context`](#failed-to-create-opengl-context) |
| ·ª®ng d·ª•ng crash khi kh·ªüi ƒë·ªông | [`Umi-OCR.exe has stopped working`](#umi-ocrexe-has-stopped-working) |
| `0xc0000142` / OCR init th·∫•t b·∫°i | [`0xc0000142` or OCR init failure with MKLDNN/AVX hints](#0xc0000142-or-ocr-init-failure-with-mkldnnavx-hints) |
| Thi·∫øu `api-ms-win-crt-runtime-l1-1-0.dll` | [`Missing api-ms-win-crt-runtime-l1-1-0dll`](#missing-api-ms-win-crt-runtime-l1-1-0dll) |

### `Cannot find Py_Main()`

- C√†i VC runtime: https://aka.ms/vs/17/release/vc_redist.x64.exe
- Ho·∫∑c ch·∫°y b·∫±ng launcher d·ª± ph√≤ng `UmiOCR-data/RUN_GUI.bat`.
- L∆∞u √Ω: launcher `.bat` c√≥ gi·ªõi h·∫°n (kh√¥ng ƒëi·ªÅu khi·ªÉn CLI ƒë∆∞·ª£c, t·ª± ƒë·ªông h√≥a ph√≠m t·∫Øt b·ªã h·∫°n ch·∫ø).

### `Failed to create OpenGL context`

- T·∫£i b·∫£n v√° runtime: https://github.com/hiroi-sora/Umi-OCR_v2/files/13167436/opengl32sw_64.zip
- Ch√©p DLL ƒë√£ gi·∫£i n√©n v√†o `UmiOCR-data/site-packages/PySide2/`.

### `Umi-OCR.exe has stopped working`

- Th∆∞·ªùng g·∫∑p sau khi d√πng l·∫°i config gi·ªØa c√°c phi√™n b·∫£n Windows kh√°c nhau.
- X√≥a `UmiOCR-data/.pre_settings` r·ªìi th·ª≠ l·∫°i.

### `0xc0000142` or OCR init failure with MKLDNN/AVX hints

- Nhi·ªÅu kh·∫£ nƒÉng CPU kh√¥ng h·ªó tr·ª£ AVX.
- D√πng bi·∫øn th·ªÉ RapidOCR ho·∫∑c chuy·ªÉn kh·ªèi plugin PaddleOCR:
  - [Umi-OCR_Rapid releases](https://github.com/hiroi-sora/Umi-OCR/releases)
  - [Umi-OCR plugins](https://github.com/hiroi-sora/Umi-OCR_plugins/releases)

### Black console with `OSError` (program not found)

- Th∆∞·ªùng g·∫∑p tr√™n Windows 7 ƒë·ªùi ƒë·∫ßu ch∆∞a v√° ƒë·∫ßy ƒë·ªß (ƒë·∫∑c bi·ªát thi·∫øu `KB2533623`).
- C√°ch kh·∫Øc ph·ª•c khuy·∫øn ngh·ªã: ch·∫°y Windows Update ƒë·∫ßy ƒë·ªß r·ªìi kh·ªüi ƒë·ªông l·∫°i.

### Crash while exporting searchable PDF

- Th∆∞·ªùng do thi·∫øu b·∫£n c·∫≠p nh·∫≠t Windows 7 (ƒë·∫∑c bi·ªát `KB4534310` v√† c√°c ph·ª• thu·ªôc).
- C√°ch kh·∫Øc ph·ª•c khuy·∫øn ngh·ªã: c√†i to√†n b·ªô c·∫≠p nh·∫≠t h·ªá th·ªëng c√≤n thi·∫øu qua Windows Update.

### Missing `api-ms-win-crt-runtime-l1-1-0.dll`

- C√†i VC runtime: https://aka.ms/vs/17/release/vc_redist.x64.exe

### ƒê·∫∑t shortcut th·ªß c√¥ng

N·∫øu t·ª± ƒë·ªông t·∫°o shortcut th·∫•t b·∫°i, h√£y ƒë·∫∑t shortcut th·ªß c√¥ng:

- Start menu: `C:\ProgramData\Microsoft\Windows\Start Menu`
- Startup: `C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup`

## B·∫£n ƒë·ªãa h√≥a

D·ª± √°n d√πng Weblate cho b·∫£n ƒë·ªãa h√≥a c·ªông t√°c:

- [Weblate: Umi-OCR](https://hosted.weblate.org/engage/umi-ocr/)

C√°c t·ªáp README ng√¥n ng·ªØ trong repository n√†y:

| Ng√¥n ng·ªØ | T·ªáp |
| --- | --- |

C·∫£m ∆°n t·∫•t c·∫£ c√°c d·ªãch gi·∫£:

| D·ªãch gi·∫£ | Ng√¥n ng·ªØ ƒë√£ ƒë√≥ng g√≥p |
| --- | --- |
| [Êù®Èπè](https://hosted.weblate.org/user/ypf) | Portugu√™s |
| [‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç](https://hosted.weblate.org/user/TamilNeram/) | ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç |

N·∫øu c√≥ l·ªói ho·∫∑c thi·∫øu s√≥t, vui l√≤ng ph·∫£n h·ªìi trong [th·∫£o lu·∫≠n n√†y](https://github.com/hiroi-sora/Umi-OCR/discussions/449).

## L·ªô tr√¨nh

### ƒê√£ ho√†n th√†nh

- Ki·∫øn tr√∫c trang tab.
- B·ªô ƒëi·ªÅu khi·ªÉn OCR API.
- B·ªô ƒëi·ªÅu khi·ªÉn nhi·ªám v·ª•/t√°c v·ª• OCR.
- Tr√¨nh qu·∫£n l√Ω theme h·ªó tr·ª£ s√°ng/t·ªëi.
- OCR h√†ng lo·∫°t.
- OCR ·∫£nh ch·ª•p m√†n h√¨nh.
- C∆° ch·∫ø hotkey.
- Menu khay h·ªá th·ªëng.
- H·∫≠u x·ª≠ l√Ω kh·ªëi vƒÉn b·∫£n (t·ªëi ∆∞u b·ªë c·ª•c).
- D·ªçn d·∫πp b·ªô nh·ªõ engine.
- UI ƒëa ng√¥n ng·ªØ.
- Ch·∫ø ƒë·ªô d√≤ng l·ªánh.
- T∆∞∆°ng th√≠ch Windows 7.
- ƒê·ªãnh d·∫°ng xu·∫•t Excel (CSV).
- Ng·∫Øt ·∫£nh ch·ª•p b·∫±ng `Esc`.
- T·ªáp theme ngo√†i.
- Chuy·ªÉn font.
- Hi·ªáu ·ª©ng loading.
- V√πng b·ªè qua.
- Nh·∫≠n d·∫°ng m√£ QR.
- Xem tr∆∞·ªõc ·∫£nh trong nh·∫≠n d·∫°ng h√†ng lo·∫°t.
- Nh·∫≠n d·∫°ng PDF.
- M·ªü ·∫£nh b·∫±ng tr√¨nh xem ·∫£nh c·ª•c b·ªô. [#335](https://github.com/hiroi-sora/Umi-OCR/issues/335)
- L·∫∑p l·∫°i v√πng ch·ª•p m√†n h√¨nh tr∆∞·ªõc ƒë√≥. [#357](https://github.com/hiroi-sora/Umi-OCR/issues/357)
- S·ª≠a l·ªói t∆∞∆°ng th√≠ch Windows 7 trong nh·∫≠n d·∫°ng t√†i li·ªáu.
- H·ªó tr·ª£ ƒë·ªçc/t·∫°o QR trong giao di·ªán HTTP v√† CLI. (#423)
- T√†i li·ªáu giao di·ªán QR.
- Di chuy·ªÉn sang n·ªÅn t·∫£ng Linux.
- HTTP document-recognition API.

### K·∫ø ho·∫°ch d√†i h·∫°n

C√°c m·ª•c d∆∞·ªõi ƒë√¢y l√† √Ω t∆∞·ªüng d·ª± ki·∫øn v√† c√≥ th·ªÉ thay ƒë·ªïi trong qu√° tr√¨nh ph√°t tri·ªÉn:

- [ ] Refactor c∆° ch·∫ø plugin n·ªÅn t·∫£ng.
- [ ] Plugin OCR API tr·ª±c tuy·∫øn.
- [ ] Plugin nh·∫≠n d·∫°ng c√¥ng th·ª©c ƒë·ªôc l·∫≠p.
- [ ] Tab c√¥ng th·ª©c chuy√™n d·ª•ng c√≥ render LaTeX.
- [ ] C∆° ch·∫ø ki·ªÉm tra c·∫≠p nh·∫≠t.
- [ ] C√°c module h·∫≠u x·ª≠ l√Ω b·ªï sung ngo√†i ph√¢n t√≠ch b·ªë c·ª•c.
- [ ] Event trigger cho c√°c ch·ª©c nƒÉng giao di·ªán ch√≠nh.
- [ ] OCR offline d·ª±a tr√™n GPU.
- [ ] D·ªãch ·∫£nh.
- [ ] D·ªãch offline.
- [ ] OCR v√πng c·ªë ƒë·ªãnh.
- [ ] Nh·∫≠n d·∫°ng b·∫£ng ra Excel.
- [ ] H·ªá th·ªëng l·ªãch s·ª≠.
- [ ] M·ªü r·ªông t∆∞∆°ng th√≠ch cho c√°c n·ªÅn t·∫£ng nh∆∞ macOS/Ubuntu.

## ƒê√≥ng g√≥p

M·ªçi ƒë√≥ng g√≥p ƒë·ªÅu ƒë∆∞·ª£c ch√†o ƒë√≥n.

- B√°o l·ªói ho·∫∑c ƒë·ªÅ xu·∫•t t√≠nh nƒÉng qua [Issues](https://github.com/hiroi-sora/Umi-OCR/issues).
- Th·∫£o lu·∫≠n √Ω t∆∞·ªüng trong [Discussions](https://github.com/hiroi-sora/Umi-OCR/discussions).
- ƒê√≥ng g√≥p b·∫£n d·ªãch qua [Weblate](https://hosted.weblate.org/engage/umi-ocr/).
- V·ªõi c√¥ng vi·ªác v·ªÅ engine/plugin, xem th√™m [Umi-OCR_plugins](https://github.com/hiroi-sora/Umi-OCR_plugins).

V·ªõi thi·∫øt l·∫≠p m√¥i tr∆∞·ªùng ph√°t tri·ªÉn, l√†m theo c√°c runtime repository theo n·ªÅn t·∫£ng:

- [Umi-OCR_runtime_windows](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Umi-OCR_runtime_linux](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

## H·ªó tr·ª£

Umi-OCR ch·ªß y·∫øu ƒë∆∞·ª£c ph√°t tri·ªÉn v√† duy tr√¨ trong th·ªùi gian r·∫£nh b·ªüi [hiroi-sora](https://github.com/hiroi-sora).

N·∫øu d·ª± √°n n√†y h·ªØu √≠ch v·ªõi b·∫°n, r·∫•t c·∫£m ∆°n s·ª± t√†i tr·ª£:

- Afdian (CN): https://afdian.com/a/hiroi-sora

## L·ªãch s·ª≠ Star

[![Star History Chart](https://api.star-history.com/svg?repos=hiroi-sora/Umi-OCR&type=Date)](https://star-history.com/#hiroi-sora/Umi-OCR&Date)

## CHANGE LOG

- [CHANGE_LOG.md](CHANGE_LOG.md)

## Gi·∫•y ph√©p

D·ª± √°n n√†y ƒë∆∞·ª£c c·∫•p ph√©p theo MIT License.

- [LICENSE](LICENSE)
