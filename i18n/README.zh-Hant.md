[English](../README.md) Â· [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](README.ar.md) Â· [EspaÃ±ol](README.es.md) Â· [FranÃ§ais](README.fr.md) Â· [æ—¥æœ¬èª](README.ja.md) Â· [í•œêµ­ì–´](README.ko.md) Â· [Tiáº¿ng Viá»‡t](README.vi.md) Â· [ä¸­æ–‡ (ç®€ä½“)](README.zh-Hans.md) Â· [ä¸­æ–‡ï¼ˆç¹é«”ï¼‰](README.zh-Hant.md) Â· [Deutsch](README.de.md) Â· [Ğ ÑƒÑÑĞºĞ¸Ğ¹](README.ru.md)


[![LazyingArt banner](https://github.com/lachlanchen/lachlanchen/raw/main/figs/banner.png)](https://github.com/lachlanchen/lachlanchen/blob/main/figs/banner.png)


<p align="center">
  <a href="https://github.com/hiroi-sora/Umi-OCR">
    <img width="200" height="128" src="https://tupian.li/images/2022/10/27/icon---256.png" alt="Umi-OCR">
  </a>
</p>

<h1 align="center">Umi-OCR</h1>

<p align="center">
  <a href="https://github.com/hiroi-sora/Umi-OCR/releases/latest">
    <img src="https://img.shields.io/github/v/release/hiroi-sora/Umi-OCR?style=flat-square" alt="Umi-OCR">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/blob/main/LICENSE">
    <img src="https://img.shields.io/github/license/hiroi-sora/Umi-OCR?style=flat-square" alt="LICENSE">
  </a>
  <a href="#download-releases">
    <img src="https://img.shields.io/github/downloads/hiroi-sora/Umi-OCR/total?style=flat-square" alt="downloads">
  </a>
  <a href="https://star-history.com/#hiroi-sora/Umi-OCR">
    <img src="https://img.shields.io/github/stars/hiroi-sora/Umi-OCR?style=flat-square" alt="stars">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/forks">
    <img src="https://img.shields.io/github/forks/hiroi-sora/Umi-OCR?style=flat-square" alt="forks">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/issues">
    <img src="https://img.shields.io/github/issues-raw/hiroi-sora/Umi-OCR?style=flat-square&color=d97706" alt="open issues">
  </a>
  <a href="https://github.com/hiroi-sora/Umi-OCR/pulls">
    <img src="https://img.shields.io/github/issues-pr/hiroi-sora/Umi-OCR?style=flat-square&color=2ea44f" alt="open pull requests">
  </a>
  <a href="https://hosted.weblate.org/engage/umi-ocr/">
    <img src="https://hosted.weblate.org/widget/umi-ocr/svg-badge.svg" alt="translation status">
  </a>
  <img src="https://img.shields.io/badge/Platform-Windows%207%2B%20%7C%20Linux%20x64-2ea44f?style=flat-square" alt="platform">
  <img src="https://img.shields.io/badge/OCR-Offline-1f6feb?style=flat-square" alt="offline OCR">
  <img src="https://img.shields.io/badge/Interface-GUI%20%7C%20CLI%20%7C%20HTTP-f97316?style=flat-square" alt="interfaces">
  <img src="https://img.shields.io/github/last-commit/hiroi-sora/Umi-OCR?style=flat-square" alt="last commit">
  <img src="https://img.shields.io/github/commit-activity/m/hiroi-sora/Umi-OCR?style=flat-square" alt="monthly commits">
</p>

<div align="center">
  <h3>
    <a href="#table-of-contents">ä½¿ç”¨æ–¹å¼</a>
    <span> â€¢ </span>
    <a href="#download-releases">ä¸‹è¼‰ç™¼è¡Œç‰ˆ</a>
    <span> â€¢ </span>
    <a href="CHANGE_LOG.md">æ›´æ–°æ—¥èªŒ</a>
    <span> â€¢ </span>
    <a href="https://github.com/hiroi-sora/Umi-OCR/issues">å•é¡Œå›å ±</a>
  </h3>
</div>

<div align="center">
  <strong>å…è²»ã€é–‹æºã€æ”¯æ´æ‰¹æ¬¡ä½œæ¥­çš„é›¢ç·š OCR è»Ÿé«”</strong><br>
  <sub>ç›¸å®¹ Windows 7 x64 èˆ‡ Linux x64</sub>
</div>

## æ¦‚è¦½

<a id="table-of-contents"></a>

Umi-OCR æ˜¯ä¸€æ¬¾ä»¥æ¡Œé¢ç«¯ç‚ºæ ¸å¿ƒã€ä»¥é›¢ç·šè™•ç†ã€é«˜ååæ‰¹æ¬¡å·¥ä½œæµèˆ‡å¯¦å‹™æ•´åˆç‚ºé‡é»çš„ OCR å·¥å…·ã€‚

- **å…è²»**ï¼šæ‰€æœ‰ç¨‹å¼ç¢¼çš†é–‹æºä¸”å¯è‡ªç”±ä½¿ç”¨ã€‚
- **ä¾¿åˆ©**ï¼šå¯ç›´æ¥åœ¨æœ¬æ©Ÿè§£å£“åŸ·è¡Œï¼Œæ ¸å¿ƒ OCR ä¸ä¾è³´ç¶²è·¯ã€‚
- **é«˜æ•ˆ**ï¼šæ•´åˆé›¢ç·š OCR å¼•æ“ï¼Œæä¾›å¤šèªç³»æ”¯æ´ã€‚
- **éˆæ´»**ï¼šæ”¯æ´ GUI æµç¨‹ã€å‘½ä»¤åˆ—æ§åˆ¶èˆ‡ HTTP APIã€‚
- **åŠŸèƒ½è±å¯Œ**ï¼šæä¾›æ“·åœ– OCRã€æ‰¹æ¬¡ OCRã€æ–‡ä»¶ OCRã€QR Code è®€å–/ç”¢ç”Ÿã€å…¬å¼è¾¨è­˜å…¥å£ã€‚

| âœ… å¿«é€Ÿè³‡è¨Š | è©³ç´°å…§å®¹ |
| --- | --- |
| ğŸ§© æˆæ¬Š | MIT |
| ğŸŒ ç¶²è·¯éœ€æ±‚ | æ ¸å¿ƒ OCR æµç¨‹ä¸éœ€ç¶²è·¯ |
| ğŸ’» å¹³å° | Windows 7 x64+ / Linux x64 |
| ğŸ›  ä½¿ç”¨æ¨¡å¼ | GUIã€CLIã€HTTP API |
| ğŸŒ åœ¨åœ°åŒ– | ä»¥ Weblate ç‚ºåŸºç¤çš„ç¤¾ç¾¤å”ä½œ |

### å¯¦å‹™å·¥ä½œæµè¨­è¨ˆ

| å·¥ä½œæµ | æ ¸å¿ƒèƒ½åŠ› |
| --- | --- |
| æˆªåœ–è™•ç† | ç›´æ¥å¾å³æ™‚ç•«é¢è£åˆ‡ã€é¸å–ä¸¦è¾¨è­˜æ–‡å­— |
| æ‰¹æ¬¡è™•ç† | æ‰¹æ¬¡è™•ç†è³‡æ–™å¤¾ã€èª¿æ•´å¾Œè™•ç†ï¼Œè¼¸å‡ºçµæ§‹åŒ–æ–‡å­—çµæœ |
| æ–‡ä»¶ OCR | æƒææ–‡ä»¶ OCRï¼Œè¼¸å‡ºå¯æœå°‹çš„åˆ†å±¤ PDF |
| QR ä½œæ¥­ | åŒæ™‚è§£ç¢¼å¤šå€‹ä»£ç¢¼ï¼Œä¸¦ç”¢ç”Ÿè‡ªè¨‚ QR / æ¢ç¢¼æª”æ¡ˆ |

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599097ab5f4.png" alt="Umi-OCR preview 1" style="width: 80%;"></p>

![Umi-OCR preview 2](https://tupian.li/images/2023/11/19/6559909fdeeba.png)

## ç›®éŒ„

- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#features)
- [ğŸ§± å°ˆæ¡ˆçµæ§‹](#project-structure)
- [ğŸ§° å‰ç½®éœ€æ±‚](#prerequisites)
- [âš™ï¸ å®‰è£](#installation)
- [â¬‡ï¸ ä¸‹è¼‰ç™¼è¡Œç‰ˆ](#download-releases)
- [ğŸ§ª ä½¿ç”¨æ–¹å¼](#usage)
- [ğŸ”§ è¨­å®š](#configuration)
- [ğŸ§© ç¯„ä¾‹](#examples)
- [ğŸ“¡ API åƒè€ƒ](#api-references)
- [ğŸ§  é–‹ç™¼å‚™è¨»](#development-notes)
- [ğŸ› ï¸ ç–‘é›£æ’è§£](#troubleshooting)
- [ğŸŒ åœ¨åœ°åŒ–](#localization)
- [ğŸ—ºï¸ ç™¼å±•è·¯ç·š](#roadmap)
- [ğŸ¤ è²¢ç»](#contribution)
- [â¤ï¸ Support](#support)
- [ğŸ“œ æˆæ¬Šæ¢æ¬¾](#license)

<a id="features"></a>

## åŠŸèƒ½ç‰¹æ€§

### æˆªåœ– OCR

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599097aba8e.png" alt="Screenshot OCR" style="width: 80%;"></p>

- é–‹å•Ÿã€Œæˆªåœ– OCRã€é ç±¤å¾Œï¼Œä½¿ç”¨æˆªåœ–ç†±éµå•Ÿå‹•è¾¨è­˜ã€‚
- å·¦å´é¢æ¿å¯åœ¨åœ–ç‰‡é è¦½ä¸­ç›´æ¥é¸å–æ–‡å­—ã€‚
- å³å´é¢æ¿æä¾›å¯ç·¨è¼¯çš„è¾¨è­˜æ­·å²èˆ‡å¤šç­†è¤‡è£½ã€‚
- æ”¯æ´å¾å‰ªè²¼ç°¿è²¼ä¸Šåœ–ç‰‡ã€‚
- å…¬å¼è¾¨è­˜å¯åƒè€ƒï¼š[Issue #254](https://github.com/hiroi-sora/Umi-OCR/issues/254)

#### æ–‡å­—å¾Œè™•ç†ï¼ˆç‰ˆé¢è§£æï¼‰

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559909f3e378.png" alt="Text post-processing" style="width: 80%;"></p>

å…§å»ºæ–¹æ¡ˆå¯é‡æ–°æ’åº OCR å€å¡Šä»¥æå‡é–±è®€æ€§ï¼š

- `Multi-column - natural paragraphs`
- `Multi-column - always line break`
- `Multi-column - no line break`
- `Single-column - natural paragraphs`
- `Single-column - always line break`
- `Single-column - no line break`
- `Single-column - preserve indentation`ï¼ˆé©åˆç¨‹å¼ç¢¼ç‰‡æ®µï¼‰
- `No post-processing`ï¼ˆåŸå§‹ OCR è¼¸å‡ºï¼‰

è‹¥æ‰€é¸ OCR å¼•æ“æ¨¡å‹æ”¯æ´ï¼Œé€™äº›æ–¹æ¡ˆå¯åŒæ™‚è™•ç†æ©«å‘èˆ‡ç¸±å‘ï¼ˆç”±å³è‡³å·¦ï¼‰ç‰ˆé¢ã€‚

### æ‰¹æ¬¡ OCR

<p align="center"><img src="https://tupian.li/images/2023/11/19/655990a2511e0.png" alt="Batch OCR" style="width: 80%;"></p>

- è¼¸å…¥æ ¼å¼ï¼š`jpg, jpe, jpeg, jfif, png, webp, bmp, tif, tiff`
- è¼¸å‡ºæ ¼å¼ï¼š`txt, jsonl, md, csv(Excel)`
- æ”¯æ´æ²¿ç”¨æˆªåœ– OCR çš„æ–‡å­—å¾Œè™•ç†è¦å‰‡ã€‚
- åœ¨ UI å·¥ä½œæµç¨‹ä¸­åŸºæœ¬ç„¡ä»»å‹™æ•¸é‡ä¸Šé™ï¼ˆå–®æ¬¡å¯è™•ç†ä¸Šç™¾å¼µå½±åƒï¼‰ã€‚
- æ”¯æ´ä»»å‹™å®Œæˆå¾Œè‡ªå‹•é—œæ©Ÿï¼ä¼‘çœ ã€‚
- å½±åƒéå¤§æ™‚ï¼Œèª¿æ•´ `OCR settings -> image side limit`ã€‚

#### å¿½ç•¥å€åŸŸ

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559911d28be7.png" alt="Ignore region editor" style="width: 80%;"></p>

- åœ¨æ‰¹æ¬¡ OCR ä¸­æ’é™¤å›ºå®šæµ®æ°´å°/Logo æ–‡å­—ã€‚
- åœ¨å¿½ç•¥å€åŸŸç·¨è¼¯å™¨å¯ç”¨æ»‘é¼ å³éµç¹ªè£½å¤šå€‹çŸ©å½¢ã€‚
- å»ºè­°å°‡çŸ©å½¢ç¹ªè£½ç‚ºç•¥å¤§æ–¼ç›®æ¨™æµ®æ°´å°ç¯„åœä»¥æé«˜ç©©å®šåº¦ã€‚
- å¿½ç•¥è¡Œç‚ºæ¡ç”¨å€å¡Šæ¨¡å¼ï¼ˆè½å…¥å€åŸŸçš„æ–‡å­—å€å¡Šå°‡è¢«å¿½ç•¥ï¼‰ã€‚

<p align="center"><img src="https://tupian.li/images/2024/05/30/66587bf03ae15.png" alt="Ignore region scope example" style="width: 80%;"></p>

### æ–‡ä»¶ OCR

<p align="center"><img src="https://github.com/hiroi-sora/Umi-OCR/assets/56373419/fc2266ee-b9b7-4079-8b10-6610e6da6cf5" alt="Document OCR" style="width: 80%;"></p>

- è¼¸å…¥æ ¼å¼ï¼š`pdf, xps, epub, mobi, fb2, cbz`
- æœ‰å…§åµŒæ–‡å­—æ™‚å…ˆæ“·å–æ–‡å­—ï¼Œå¦å‰‡å°æƒæé é¢é€²è¡Œ OCRã€‚
- å¯åŒ¯å‡ºå¯æœå°‹çš„åˆ†å±¤ PDFã€‚
- æ”¯æ´å¿½ç•¥å€åŸŸï¼ˆç”¨æ–¼é é¦–/é å°¾ï¼‰ã€‚
- æ”¯æ´ä»»å‹™å®Œæˆå¾Œè‡ªå‹•é—œæ©Ÿï¼ä¼‘çœ ã€‚

### QR Code

<p align="center"><img src="https://tupian.li/images/2023/11/19/655991268d6b1.png" alt="QR code" style="width: 80%;"></p>

è®€å–æ¨¡å¼ï¼š

- æˆªåœ–ã€è²¼ä¸Šï¼Œæˆ–æ‹–æ›³æœ¬æ©Ÿåœ–ç‰‡é€²è¡Œè§£ç¢¼ã€‚
- æ”¯æ´å–®å¼µåœ–ç‰‡ä¸­çš„å¤šå€‹ä»£ç¢¼ã€‚
- æ”¯æ´ 19 ç¨®æ ¼å¼ï¼š

`Aztec`,`Codabar`,`Code128`,`Code39`,`Code93`,`DataBar`,`DataBarExpanded`,`DataMatrix`,`EAN13`,`EAN8`,`ITF`,`LinearCodes`,`MatrixCodes`,`MaxiCode`,`MicroQRCode`,`PDF417`,`QRCode`,`UPCA`,`UPCE`

<p align="center"><img src="https://tupian.li/images/2023/11/19/6559911cda737.png" alt="QR code generate" style="width: 80%;"></p>

ç”¢ç”Ÿæ¨¡å¼ï¼š

- å¾æ–‡å­—ç”¢ç”Ÿ QR / æ¢ç¢¼åœ–ç‰‡ã€‚
- æ”¯æ´æ ¼å¼é¸æ“‡èˆ‡éŒ¯èª¤æ›´æ­£åƒæ•¸ã€‚

### å…¨åŸŸè¨­å®š

<p align="center"><img src="https://tupian.li/images/2023/11/19/655991252e780.png" alt="Global settings" style="width: 80%;"></p>

- æ–°å¢å¿«æ·éµèˆ‡å•Ÿå‹•è¡Œç‚ºã€‚
- åˆ‡æ›ä»‹é¢èªè¨€ã€‚
- åˆ‡æ›ä¸»é¡Œï¼ˆæ·ºè‰²ï¼æ·±è‰²ï¼‰ã€‚
- èª¿æ•´å­—å‹èˆ‡ UI ç¸®æ”¾ã€‚
- åˆ‡æ› OCR å¤–æ›ã€‚
- ç•¶ GPU åŠ é€Ÿé€ æˆé–ƒçˆæˆ–ç•«é¢ä½ç§»æ™‚ï¼Œå¯åˆ‡æ›æ¸²æŸ“å™¨ï¼ˆ`Interface and Appearance -> Renderer`ï¼‰ã€‚

<a id="project-structure"></a>

## å°ˆæ¡ˆçµæ§‹

### å€‰åº«é—œä¿‚

- [ä¸»å€‰åº«](https://github.com/hiroi-sora/Umi-OCR)
- [å¤–æ›å€‰åº«](https://github.com/hiroi-sora/Umi-OCR_plugins)
- [Windows åŸ·è¡Œæ™‚å€‰åº«](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Linux åŸ·è¡Œæ™‚å€‰åº«](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

### åŸ·è¡Œæ™‚ç›®éŒ„çµæ§‹ï¼ˆä¸Šæ¸¸æ¨™æº–ç‰ˆï¼‰

`**` è¡¨ç¤ºæ­¤ä¸»å€‰åº«åŒ…å«çš„å…§å®¹ã€‚

```text
Umi-OCR
â”œâ”€ Umi-OCR.exe
â”œâ”€ umi-ocr.sh
â””â”€ UmiOCR-data
   â”œâ”€ main.py **
   â”œâ”€ version.py **
   â”œâ”€ qt_res **
   â”‚  â””â”€ Qt resources, including icons and QML source
   â”œâ”€ py_src **
   â”‚  â””â”€ Python source
   â”œâ”€ plugins
   â”‚  â””â”€ OCR plugins
   â””â”€ i18n **
      â””â”€ translation files
```

### æœ¬å€‰åº«å¿«ç…§ä¸­çš„åŸå§‹ç¢¼æ¨¹

```text
.
â”œâ”€â”€ README.md
â”œâ”€â”€ README_en.md
â”œâ”€â”€ README_ja.md
â”œâ”€â”€ CHANGE_LOG.md
â”œâ”€â”€ LICENSE
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ README_CLI.md
â”‚   â””â”€â”€ http/
â”œâ”€â”€ UmiOCR-data/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ py_src/
â”‚   â”‚   â”œâ”€â”€ run.py
â”‚   â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ mission/
â”‚   â”‚   â”œâ”€â”€ ocr/
â”‚   â”‚   â”œâ”€â”€ tag_pages/
â”‚   â”‚   â”œâ”€â”€ plugins_controller/
â”‚   â”‚   â”œâ”€â”€ image_controller/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ qt_res/
â”‚   â”‚   â”œâ”€â”€ qml/
â”‚   â”‚   â””â”€â”€ images/
â”‚   â””â”€â”€ i18n/
â”œâ”€â”€ dev-tools/
â”‚   â””â”€â”€ i18n/
â””â”€â”€ i18n/
```

<a id="prerequisites"></a>

## å‰ç½®éœ€æ±‚

### çµ‚ç«¯ä½¿ç”¨è€…

| é …ç›® | éœ€æ±‚ |
| --- | --- |
| ä½œæ¥­ç³»çµ± | Windows 7 x64+ æˆ– Linux x64 |
| CPUï¼ˆå»ºè­°ï¼‰ | æ”¯æ´ AVX çš„ x64 CPUï¼ˆä¾› PaddleOCR ç‚ºåŸºç¤çš„å¤–æ›ä½¿ç”¨ï¼‰ |
| åŸ·è¡Œæ™‚ï¼ˆå»ºè­° Windowsï¼‰ | Visual C++ runtimeï¼ˆç”¨æ–¼ç›¸å®¹æ€§ï¼‰ |

### é–‹ç™¼è€…

- è«‹å…ˆé–±è®€ä¸¦éµå¾ªå¹³å°åŸ·è¡Œæ™‚è¨­å®šï¼š
  - [Umi-OCR_runtime_windows](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
  - [Umi-OCR_runtime_linux](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)
- æœ¬å€‰åº«æœªæä¾›å¯ç›´æ¥ä»¥ pip å®‰è£çš„ç¨ç«‹ `requirements.txt` æˆ– `pyproject.toml`ã€‚

<a id="installation"></a>

## å®‰è£

### é¸é … Aï¼šéš¨èº«å¥—ä»¶ï¼ˆå»ºè­°ï¼‰

1. ä¸‹è¼‰ `.7z` æˆ–è‡ªå±•é–‹ `.7z.exe` å¥—ä»¶ã€‚
2. è§£å£“ç¸®æª”æ¡ˆã€‚
3. å•Ÿå‹• `Umi-OCR.exe`ã€‚

### é¸é … Bï¼šScoopï¼ˆWindowsï¼‰

```bash
scoop bucket add extras
```

RapidOCR ç‰ˆæœ¬ï¼ˆå…¼å®¹æ€§æ›´ä½³ï¼‰ï¼š

```bash
scoop install extras/umi-ocr
```

PaddleOCR ç‰ˆæœ¬ï¼ˆç¨å¿«ï¼‰ï¼š

```bash
scoop install extras/umi-ocr-paddle
```

è«‹å‹¿åŒæ™‚å®‰è£å…©å€‹ç‰ˆæœ¬ï¼ˆå¯èƒ½ç™¼ç”Ÿå¿«æ·éµè¡çªï¼‰ï¼Œå¿…è¦æ™‚ä½¿ç”¨å¤–æ›åˆ‡æ›ã€‚

### é¸é … Cï¼šä½¿ç”¨åŸ·è¡Œæ™‚å€‰åº«å»ºç½®ï¼åŸ·è¡Œ

ä¾ç…§å»ºç½®ï¼åŸ·è¡Œèªªæ˜ï¼š

- [Windows åŸ·è¡Œæ™‚å®‰è£](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Linux åŸ·è¡Œæ™‚å®‰è£](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

<a id="download-releases"></a>

## ä¸‹è¼‰ç™¼è¡Œç‰ˆ

| é¡åƒ | é€£çµ | èªªæ˜ |
| --- | --- | --- |
| è—å¥é›² | [å€åŸŸé¡åƒ](https://hiroi-sora.lanzoul.com/s/umi-ocr) | é©åˆä¸­åœ‹å¤§é™¸å€åŸŸçš„é¡åƒ |
| GitHub | [æœ€æ–°ç™¼è¡Œç‰ˆ](https://github.com/hiroi-sora/Umi-OCR/releases/latest) | ä¸Šæ¸¸ä¸»ç™¼è¡Œé é¢ |
| SourceForge | [ä¸‹è¼‰é¡åƒ](https://sourceforge.net/projects/umi-ocr) | å‚³çµ±å‚™ç”¨é€šé“ |

<a id="usage"></a>

## ä½¿ç”¨æ–¹å¼

### å¿«é€Ÿé–‹å§‹

- Umi-OCR ç‚ºéš¨èº«è»Ÿé«”ï¼Œç„¡éœ€å®‰è£ç¨‹å¼ã€‚
- è§£å£“å¾Œç›´æ¥å•Ÿå‹• `Umi-OCR.exe`ã€‚
- å•Ÿå‹•å¤±æ•—è«‹åƒè€ƒ[ç–‘é›£æ’è§£](#troubleshooting)ã€‚

### ä»‹é¢èªè¨€

é¦–æ¬¡å•Ÿå‹•æ™‚ï¼Œä»‹é¢æœƒä¾ç³»çµ±åœ°å€è¨­å®šè‡ªå‹•é¸æ“‡ã€‚

æ‰‹å‹•åˆ‡æ›ï¼š`Global Settings -> Language`ã€‚

<p align="center"><img src="https://tupian.li/images/2023/11/19/65599c3f9e600.png" alt="Language switch" style="width: 80%;"></p>

### åˆ†é èˆ‡å·¥ä½œæµç¨‹

- åªé–‹å•Ÿä½ å·¥ä½œæµéœ€è¦çš„é ç±¤ã€‚
- å¯å¾åˆ†é åˆ—å·¦ä¸Šè§’åˆ‡æ›ã€Œç½®é ‚ã€ã€‚
- å¯å¾å³ä¸Šè§’é–å®šåˆ†é ï¼Œé˜²æ­¢èª¤é—œé–‰ã€‚

### å‘½ä»¤åˆ—ç”¨æ³•

CLI æ‰‹å†Šï¼š[docs/README_CLI.md](docs/README_CLI.md)

åŸºæœ¬æŒ‡ä»¤ï¼š

```bash
umi-ocr --help
umi-ocr --show
umi-ocr --hide
umi-ocr --quit
umi-ocr --reload
```

OCR æŒ‡ä»¤ï¼š

```bash
umi-ocr --screenshot
umi-ocr --clipboard
umi-ocr --path "D:/img1.png" "D:/img2.png" "D:/image/test"
```

å›ºå®šå€åŸŸæ“·å–ï¼š

```bash
umi-ocr --screenshot screen=1 rect=50,100,300,200
```

QR æŒ‡ä»¤ï¼š

```bash
umi-ocr --qrcode_read "D:/qr.png"
umi-ocr --qrcode_create "hello world" "D:/out.jpeg" 256 256
```

è¼¸å‡ºé¸é …ï¼š

```bash
umi-ocr --screenshot --clip
umi-ocr --screenshot --output result.txt
umi-ocr --screenshot "-->" result.txt
umi-ocr --screenshot --output_append result.txt
umi-ocr --screenshot "-->>" result.txt
```

### HTTP API ç”¨æ³•

HTTP æ–‡ä»¶ï¼š[docs/http/README.md](docs/http/README.md)

é—œéµç«¯é»ï¼š

| ç«¯é» | ç”¨é€” |
| --- | --- |
| `/api/ocr/get_options` | OCR é¸é … |
| `/api/ocr` | åŸ·è¡Œ OCR |
| `/api/doc/*` | æ–‡ä»¶é¸é …/ä¸Šå‚³/çµæœ/ä¸‹è¼‰ |
| `/api/qrcode` | QR è§£ç¢¼ |
| `/argv` | é€é HTTP å°‡ CLI ä½œç‚ºæ©‹æ¥ |

æ³¨æ„ï¼šåœ¨ `Global Settings` ä¸­ï¼ŒHTTP æœå‹™å¿…é ˆä¿æŒå•Ÿç”¨ï¼ˆé è¨­å€¼ï¼‰ã€‚é™¤ééœ€è¦ LAN å­˜å–ï¼Œå¦å‰‡è«‹ä½¿ç”¨åƒ…æœ¬æ©Ÿä½å€ã€‚

<a id="configuration"></a>

## è¨­å®š

- åŸ·è¡Œæ™‚è¨­å®šå„²å­˜æ–¼ `UmiOCR-data/.settings`ï¼ˆINI æ ¼å¼ï¼‰ã€‚
- æ‰‹å‹•ä¿®æ”¹è¨­å®šå¾Œï¼Œè«‹ä»¥ä»¥ä¸‹æ–¹å¼å¥—ç”¨ï¼š

```bash
umi-ocr --reload
```

- æŸäº›å•Ÿå‹•ï¼åŸ·è¡Œæ™‚ç›¸å®¹æ€§ç‹€æ…‹ä¹Ÿå¯èƒ½æ¶‰åŠï¼š
  - `UmiOCR-data/.pre_settings`
  - `UmiOCR-data/logs/`ï¼ˆé©ç”¨æ–¼æœ‰åŸ·è¡Œæ™‚æ—¥èªŒçš„ç‰ˆæœ¬ï¼‰

<a id="examples"></a>

## ç¯„ä¾‹

### ç¯„ä¾‹ 1ï¼šä¾è·¯å¾‘æ‰¹æ¬¡ OCR

```bash
umi-ocr --path "D:/book_pages" --output "D:/ocr_output.txt"
```

### ç¯„ä¾‹ 2ï¼šå¾å¤šå€‹è·¯å¾‘è®€å– QR

```bash
umi-ocr --qrcode_read "D:/qr/1.png" "D:/qr/2.png"
```

### ç¯„ä¾‹ 3ï¼šæŒ‡å®šå°ºå¯¸ç”¢ç”Ÿ QR

```bash
umi-ocr --qrcode_create "https://github.com/hiroi-sora/Umi-OCR" "D:/qr_out.jpeg" 128 256
```

### ç¯„ä¾‹ 4ï¼šé«˜éšæ¨¡çµ„èª¿ç”¨

```bash
umi-ocr --all_modules
umi-ocr --call_qml QRCode --func scanPaths '["D:/Pictures/Screenshots/test/äºŒç»´ç /1111.png","D:/Pictures/Screenshots/test/äºŒç»´ç /2222.png"]'
```

<a id="api-references"></a>

## API åƒè€ƒ

- å‘½ä»¤åˆ—æ‰‹å†Šï¼š[docs/README_CLI.md](docs/README_CLI.md)
- HTTP API æ‰‹å†Šï¼š[docs/http/README.md](docs/http/README.md)
- OCR APIï¼š[docs/http/api_ocr.md](docs/http/api_ocr.md)
- æ–‡ä»¶ APIï¼š[docs/http/api_doc.md](docs/http/api_doc.md)
- QR APIï¼š[docs/http/api_qrcode.md](docs/http/api_qrcode.md)
- HTTP argv æ©‹æ¥ï¼š[docs/http/argv.md](docs/http/argv.md)

<a id="development-notes"></a>

## é–‹ç™¼å‚™è¨»

- é€²å…¥é»ï¼š
  - `UmiOCR-data/main.py`ï¼ˆåŸ·è¡Œæ™‚åˆå§‹åŒ–ï¼‰
  - `UmiOCR-data/py_src/run.py`ï¼ˆæ‡‰ç”¨ç¨‹å¼å•Ÿå‹•ï¼‰
- UI æŠ€è¡“æ£§ï¼šPySide2 + QMLï¼ˆ`UmiOCR-data/qt_res/qml`ï¼‰ã€‚
- æ ¸å¿ƒæœå‹™ï¼š
  - `py_src/server/*`ï¼ˆHTTP + æŒ‡ä»¤å‚³è¼¸ï¼‰
  - `py_src/mission/*`ï¼ˆOCR/æ–‡ä»¶/QR ä½‡åˆ—ä»»å‹™ï¼‰
  - `py_src/ocr/*`ï¼ˆOCR å¾Œè™•ç†èˆ‡è¼¸å‡ºï¼‰
- ç”Ÿæ…‹ç³»æ”¯æ´çš„ OCR å¼•æ“ï¼š
  - [PaddleOCR-json](https://github.com/hiroi-sora/PaddleOCR-json)
  - [RapidOCR-json](https://github.com/hiroi-sora/RapidOCR-json)
- åŸ·è¡Œæ™‚æ¡†æ¶ï¼š[PyStandï¼ˆå·²å®¢è£½åŒ–ï¼‰](https://github.com/skywind3000/PyStand)

<a id="troubleshooting"></a>

## ç–‘é›£æ’è§£

å®Œæ•´æ’éŒ¯ç´°ç¯€è«‹åƒè€ƒï¼š [https://github.com/hiroi-sora/Umi-OCR/issues/447](https://github.com/hiroi-sora/Umi-OCR/issues/447)

å¿«é€Ÿç´¢å¼•ï¼š

| ç¾è±¡ | å°å‘ |
| --- | --- |
| æ‰¾ä¸åˆ° `Py_Main()` | [`Cannot find Py_Main()`](#cannot-find-py_main) |
| å»ºç«‹ OpenGL context å¤±æ•— | [`Failed to create OpenGL context`](#failed-to-create-opengl-context) |
| æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•æ™‚ç•¶æ©Ÿ | [`Umi-OCR.exe has stopped working`](#umi-ocrexe-has-stopped-working) |
| `0xc0000142` / OCR åˆå§‹åŒ–å¤±æ•—ï¼ˆMKLDNN/AVX æç¤ºï¼‰ | [`0xc0000142` æˆ– OCR åˆå§‹åŒ–å¤±æ•—ï¼ˆMKLDNN/AVX æç¤ºï¼‰](#0xc0000142-or-ocr-init-failure-with-mkldnnavx-hints) |
| ç¼ºå°‘ `api-ms-win-crt-runtime-l1-1-0.dll` | [`Missing api-ms-win-crt-runtime-l1-1-0dll`](#missing-api-ms-win-crt-runtime-l1-1-0dll) |

### `Cannot find Py_Main()`

- å®‰è£ VC runtimeï¼š https://aka.ms/vs/17/release/vc_redist.x64.exe
- æˆ–ä½¿ç”¨å‚™æ´å•Ÿå‹•æ–¹å¼ `UmiOCR-data/RUN_GUI.bat`ã€‚
- æ³¨æ„ï¼š`.bat` å•Ÿå‹•æ–¹å¼æœ‰é™åˆ¶ï¼ˆç„¡ CLI æ§åˆ¶ã€å¿«æ·éµè‡ªå‹•åŒ–åŠŸèƒ½æœ‰é™ï¼‰ã€‚

### `Failed to create OpenGL context`

- ä¸‹è¼‰åŸ·è¡Œæ™‚ä¿®è£œï¼š https://github.com/hiroi-sora/Umi-OCR_v2/files/13167436/opengl32sw_64.zip
- å°‡è§£å£“å¾Œçš„ DLL æ”¾å…¥ `UmiOCR-data/site-packages/PySide2/`ã€‚

### `Umi-OCR.exe has stopped working`

- å¸¸è¦‹æ–¼ä¸åŒ Windows ç‰ˆæœ¬é–“å…±ç”¨è¨­å®šã€‚
- åˆªé™¤ `UmiOCR-data/.pre_settings` å¾Œé‡è©¦ã€‚

### `0xc0000142` æˆ– OCR åˆå§‹åŒ–å¤±æ•—ï¼ˆMKLDNN/AVX æç¤ºï¼‰

- å¯èƒ½æ˜¯ CPU ä¸æ”¯æ´ AVXã€‚
- æ”¹ç”¨ RapidOCR è®Šé«”ï¼Œæˆ–åˆ‡æ›åˆ°é PaddleOCR å¤–æ›ï¼š
  - [Umi-OCR_Rapid ç™¼è¡Œç‰ˆ](https://github.com/hiroi-sora/Umi-OCR/releases)
  - [Umi-OCR plugins](https://github.com/hiroi-sora/Umi-OCR_plugins/releases)

### `é»‘è‰²ä¸»æ§å°èˆ‡ OSErrorï¼ˆç¨‹å¼æœªæ‰¾åˆ°ï¼‰`

- å¸¸è¦‹æ–¼æœªå¥—ç”¨ä¿®è£œçš„æ—©æœŸ Windows 7ï¼ˆå°¤å…¶ç¼ºå°‘ `KB2533623`ï¼‰ã€‚
- å»ºè­°ä¿®å¾©ï¼šå®Œæˆ Windows Update å¾Œé‡æ–°é–‹æ©Ÿã€‚

### åŒ¯å‡ºå¯æœå°‹ PDF æ™‚ç•¶æ©Ÿ

- å¸¸è¦‹åŸå› æ˜¯ç¼ºå°‘ Windows 7 æ›´æ–°ï¼ˆå°¤å…¶æ˜¯ `KB4534310` åŠç›¸ä¾å…ƒä»¶ï¼‰ã€‚
- å»ºè­°ä¿®å¾©ï¼šé€é Windows Update å®‰è£æ‰€æœ‰ç¼ºå¤±æ›´æ–°ã€‚

### ç¼ºå°‘ `api-ms-win-crt-runtime-l1-1-0.dll`

- å®‰è£ VC runtimeï¼š https://aka.ms/vs/17/release/vc_redist.x64.exe

### æ‰‹å‹•æ”¾ç½®æ·å¾‘

è‹¥è‡ªå‹•å»ºç«‹æ·å¾‘å¤±æ•—ï¼Œè«‹æ‰‹å‹•æ”¾ç½®ï¼š

- é–‹å§‹åŠŸèƒ½è¡¨ï¼š`C:\ProgramData\Microsoft\Windows\Start Menu`
- é–‹æ©Ÿå•Ÿå‹•ï¼š`C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup`

<a id="localization"></a>

## åœ¨åœ°åŒ–

æœ¬å°ˆæ¡ˆæ¡ç”¨ Weblate é€²è¡Œå”ä½œå¼åœ¨åœ°åŒ–ï¼š

- [Weblate: Umi-OCR](https://hosted.weblate.org/engage/umi-ocr/)

æœ¬å€‰åº«ä¸­çš„ README èªè¨€æª”ï¼š

| èªè¨€ | æª”æ¡ˆ |
| --- | --- |

æ„Ÿè¬æ‰€æœ‰ç¿»è­¯è€…ï¼š

| ç¿»è­¯è€… | è²¢ç»èªè¨€ |
| --- | --- |
| [æ¨é¹](https://hosted.weblate.org/user/ypf) | PortuguÃªs |
| [à®¤à®®à®¿à®´à¯à®¨à¯‡à®°à®®à¯](https://hosted.weblate.org/user/TamilNeram/) | à®¤à®®à®¿à®´à¯ |

è‹¥æœ‰éŒ¯èª¤æˆ–éºæ¼ï¼Œè«‹å‰å¾€[è¨è«–å€å›å ±](https://github.com/hiroi-sora/Umi-OCR/discussions/449)ã€‚

<a id="roadmap"></a>

## è·¯ç·šåœ–

### å·²å®Œæˆ

- æ¨™ç±¤é æ¶æ§‹ã€‚
- OCR API æ§åˆ¶å™¨ã€‚
- OCR ä»»å‹™æ§åˆ¶å™¨ã€‚
- æ·ºè‰²ï¼æ·±è‰²ä¸»é¡Œç®¡ç†å™¨ã€‚
- æ‰¹æ¬¡ OCRã€‚
- æˆªåœ– OCRã€‚
- ç†±éµæ©Ÿåˆ¶ã€‚
- ç³»çµ±åŒ£é¸å–®ã€‚
- æ–‡å­—å€å¡Šå¾Œè™•ç†ï¼ˆç‰ˆé¢æœ€ä½³åŒ–ï¼‰ã€‚
- å¼•æ“è¨˜æ†¶é«”æ¸…ç†ã€‚
- å¤šèªç³» UIã€‚
- å‘½ä»¤åˆ—æ¨¡å¼ã€‚
- Windows 7 ç›¸å®¹æ€§ã€‚
- Excelï¼ˆCSVï¼‰è¼¸å‡ºæ ¼å¼ã€‚
- `Esc` æˆªåœ–ä¸­æ–·ã€‚
- å¤–éƒ¨ä¸»é¡Œæª”ã€‚
- å­—å‹åˆ‡æ›ã€‚
- è¼‰å…¥å‹•ç•«ã€‚
- å¿½ç•¥å€åŸŸã€‚
- QR ç¢¼è­˜åˆ¥ã€‚
- æ‰¹æ¬¡è¾¨è­˜ä¸­çš„å½±åƒé è¦½ã€‚
- PDF è¾¨è­˜ã€‚
- ç”¨æœ¬æ©Ÿå½±åƒæª¢è¦–å™¨é–‹å•Ÿå½±åƒã€‚[#335](https://github.com/hiroi-sora/Umi-OCR/issues/335)
- é‡è¤‡ä¸Šæ¬¡æˆªåœ–å€åŸŸã€‚[#357](https://github.com/hiroi-sora/Umi-OCR/issues/357)
- ä¿®æ­£ Windows 7 æ–‡ä»¶è¾¨è­˜ç›¸å®¹æ€§å•é¡Œã€‚
- åœ¨ HTTP èˆ‡ CLI ä»‹é¢åŠ å…¥ QR è®€å–/ç”¢ç”Ÿæ”¯æ´ã€‚ï¼ˆ#423ï¼‰
- QR ä»‹é¢æ–‡ä»¶ã€‚
- Linux å¹³å°ç§»è½‰ã€‚
- HTTP æ–‡ä»¶è¾¨è­˜ APIã€‚

### é•·æœŸè¦åŠƒ

ä»¥ä¸‹é …ç›®ç‚ºè¦åŠƒä¸­çš„æ§‹æƒ³ï¼Œå¯èƒ½éš¨é–‹ç™¼èª¿æ•´ï¼š

- [ ] é‡æ§‹åº•å±¤å¤–æ›æ©Ÿåˆ¶ã€‚
- [ ] ç·šä¸Š OCR API å¤–æ›ã€‚
- [ ] ç¨ç«‹å…¬å¼è¾¨è­˜å¤–æ›ã€‚
- [ ] å°ˆç”¨å…¬å¼é ç±¤èˆ‡ LaTeX å‘ˆç¾ã€‚
- [ ] æ›´æ–°æª¢æŸ¥æ©Ÿåˆ¶ã€‚
- [ ] é™¤ç‰ˆé¢è§£æä»¥å¤–çš„å…¶ä»–å¾Œè™•ç†æ¨¡çµ„ã€‚
- [ ] ä»‹é¢ä¸»è¦åŠŸèƒ½çš„äº‹ä»¶è§¸ç™¼ã€‚
- [ ] åŸºæ–¼ GPU çš„é›¢ç·š OCRã€‚
- [ ] åœ–ç‰‡ç¿»è­¯ã€‚
- [ ] é›¢ç·šç¿»è­¯ã€‚
- [ ] å›ºå®šå€åŸŸ OCRã€‚
- [ ] è¡¨æ ¼è¾¨è­˜ä¸¦è¼¸å‡ºè‡³ Excelã€‚
- [ ] æ­·å²ç´€éŒ„ç³»çµ±ã€‚
- [ ] æ“´å…… macOS/Ubuntu ç­‰å¹³å°ç›¸å®¹æ€§ã€‚

<a id="contribution"></a>

## è²¢ç»

æ­¡è¿ä»»ä½•å½¢å¼çš„è²¢ç»ã€‚

- é€é [Issues](https://github.com/hiroi-sora/Umi-OCR/issues) å›å ±éŒ¯èª¤æˆ–æå ±éœ€æ±‚ã€‚
- åœ¨ [Discussions](https://github.com/hiroi-sora/Umi-OCR/discussions) è¨è«–æƒ³æ³•ã€‚
- é€é [Weblate](https://hosted.weblate.org/engage/umi-ocr/) åƒèˆ‡ç¿»è­¯ã€‚
- è‹¥è¦åƒèˆ‡å¼•æ“æˆ–å¤–æ›é–‹ç™¼ï¼Œå¦è«‹åƒè€ƒ [Umi-OCR_plugins](https://github.com/hiroi-sora/Umi-OCR_plugins)ã€‚

é–‹ç™¼ç’°å¢ƒè«‹ä¾å„å¹³å°åŸ·è¡Œæ™‚å€‰åº«æ–‡ä»¶ï¼š

- [Umi-OCR_runtime_windows](https://github.com/hiroi-sora/Umi-OCR_runtime_windows)
- [Umi-OCR_runtime_linux](https://github.com/hiroi-sora/Umi-OCR_runtime_linux)

<a id="support"></a>

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=hiroi-sora/Umi-OCR&type=Date)](https://star-history.com/#hiroi-sora/Umi-OCR&Date)

## CHANGE LOG

- [CHANGE_LOG.md](CHANGE_LOG.md)

<a id="license"></a>

## æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚

- [LICENSE](LICENSE)


## â¤ï¸ Support

| Donate | PayPal | Stripe |
| --- | --- | --- |
| [![Donate](https://camo.githubusercontent.com/24a4914f0b42c6f435f9e101621f1e52535b02c225764b2f6cc99416926004b7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f6e6174652d4c617a79696e674172742d3045413545393f7374796c653d666f722d7468652d6261646765266c6f676f3d6b6f2d6669266c6f676f436f6c6f723d7768697465)](https://chat.lazying.art/donate) | [![PayPal](https://camo.githubusercontent.com/d0f57e8b016517a4b06961b24d0ca87d62fdba16e18bbdb6aba28e978dc0ea21/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50617950616c2d526f6e677a686f754368656e2d3030343537433f7374796c653d666f722d7468652d6261646765266c6f676f3d70617970616c266c6f676f436f6c6f723d7768697465)](https://paypal.me/RongzhouChen) | [![Stripe](https://camo.githubusercontent.com/1152dfe04b6943afe3a8d2953676749603fb9f95e24088c92c97a01a897b4942/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5374726970652d446f6e6174652d3633354246463f7374796c653d666f722d7468652d6261646765266c6f676f3d737472697065266c6f676f436f6c6f723d7768697465)](https://buy.stripe.com/aFadR8gIaflgfQV6T4fw400) |
